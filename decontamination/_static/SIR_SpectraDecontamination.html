<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIR_SpectraDecontamination package &mdash; SIR_SpectraDecontamination August-2025 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="SIR_SpectraDecontamination" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SIR_SpectraDecontamination
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Code Documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">SIR_SpectraDecontamination</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">SIR_SpectraDecontamination package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.AstroObjectInfo">AstroObjectInfo module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo"><code class="docutils literal notranslate"><span class="pre">AstroObjectInfo</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.ConvolutionKernel">ConvolutionKernel module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel"><code class="docutils literal notranslate"><span class="pre">ConvolutionKernel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.DecontaminatedSpectraCollection">DecontaminatedSpectraCollection module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection"><code class="docutils literal notranslate"><span class="pre">DecontaminatedSpectraCollection</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.DecontaminatedSpectrum">DecontaminatedSpectrum module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum"><code class="docutils literal notranslate"><span class="pre">DecontaminatedSpectrum</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.DetectorGrism">DetectorGrism module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism"><code class="docutils literal notranslate"><span class="pre">DetectorGrism</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.DetectorRegion">DetectorRegion module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.DetectorRegion.DetectorRegion"><code class="docutils literal notranslate"><span class="pre">DetectorRegion</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.Executor">Executor module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Executor.concatenate"><code class="docutils literal notranslate"><span class="pre">concatenate()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Executor.Executor"><code class="docutils literal notranslate"><span class="pre">Executor</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.ExposureSet">ExposureSet module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.ExposureSet.ExposureSet"><code class="docutils literal notranslate"><span class="pre">ExposureSet</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.Flags">Flags module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Flags.Flags"><code class="docutils literal notranslate"><span class="pre">Flags</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.LineModel">LineModel module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.LineModel.LineModel"><code class="docutils literal notranslate"><span class="pre">LineModel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.LineModeller">LineModeller module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.LineModeller.LineModeller"><code class="docutils literal notranslate"><span class="pre">LineModeller</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.LocationTableSet">LocationTableSet module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.LocationTableSet.LocationTableSet"><code class="docutils literal notranslate"><span class="pre">LocationTableSet</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.LocationTableSetInfo">LocationTableSetInfo module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo"><code class="docutils literal notranslate"><span class="pre">LocationTableSetInfo</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.ModelSpectrum">ModelSpectrum module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum"><code class="docutils literal notranslate"><span class="pre">ModelSpectrum</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.NestedDict">NestedDict module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.NestedDict.join"><code class="docutils literal notranslate"><span class="pre">join()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.NestedDict.NestedDict"><code class="docutils literal notranslate"><span class="pre">NestedDict</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.PhotometerInfo">PhotometerInfo module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.PhotometerInfo.PhotometerInfo"><code class="docutils literal notranslate"><span class="pre">PhotometerInfo</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.PsfModel">PsfModel module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.PsfModel.PsfModel"><code class="docutils literal notranslate"><span class="pre">PsfModel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.QualityStatistics">QualityStatistics module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.QualityStatistics.QualityStatistics"><code class="docutils literal notranslate"><span class="pre">QualityStatistics</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SearchGrid">SearchGrid module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SearchGrid.SearchGrid"><code class="docutils literal notranslate"><span class="pre">SearchGrid</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SpectraCollectionIndex">SpectraCollectionIndex module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry"><code class="docutils literal notranslate"><span class="pre">SpectraCollectionIndexEntry</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex"><code class="docutils literal notranslate"><span class="pre">SpectraCollectionIndex</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SpectraDecontaminationMain">SpectraDecontaminationMain module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectraDecontaminationMain.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectraDecontaminationMain.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SpectraDecontaminator">SpectraDecontaminator module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator"><code class="docutils literal notranslate"><span class="pre">SpectraDecontaminator</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SpectrumContainer">SpectrumContainer module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer"><code class="docutils literal notranslate"><span class="pre">SpectrumContainer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SpectrumCutout">SpectrumCutout module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout"><code class="docutils literal notranslate"><span class="pre">SpectrumCutout</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SpectrumInfo">SpectrumInfo module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo"><code class="docutils literal notranslate"><span class="pre">SpectrumInfo</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SpectrumMeasurer">SpectrumMeasurer module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumMeasurer.SpectrumMeasurer"><code class="docutils literal notranslate"><span class="pre">SpectrumMeasurer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.SpectrumModeller">SpectrumModeller module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller"><code class="docutils literal notranslate"><span class="pre">SpectrumModeller</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination.Utils">Utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.div0"><code class="docutils literal notranslate"><span class="pre">div0()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.represents_int"><code class="docutils literal notranslate"><span class="pre">represents_int()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.verify_2d_numpy_array"><code class="docutils literal notranslate"><span class="pre">verify_2d_numpy_array()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.mag_to_fnu"><code class="docutils literal notranslate"><span class="pre">mag_to_fnu()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.abmag_to_ujy"><code class="docutils literal notranslate"><span class="pre">abmag_to_ujy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.angstrom_to_ujy"><code class="docutils literal notranslate"><span class="pre">angstrom_to_ujy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.ujy_to_angstrom"><code class="docutils literal notranslate"><span class="pre">ujy_to_angstrom()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.weighted_mean"><code class="docutils literal notranslate"><span class="pre">weighted_mean()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.weighted_std"><code class="docutils literal notranslate"><span class="pre">weighted_std()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.effective_wavelength"><code class="docutils literal notranslate"><span class="pre">effective_wavelength()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.interp_multiply"><code class="docutils literal notranslate"><span class="pre">interp_multiply()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.convolve_filter"><code class="docutils literal notranslate"><span class="pre">convolve_filter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.smooth_signal"><code class="docutils literal notranslate"><span class="pre">smooth_signal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.cdf"><code class="docutils literal notranslate"><span class="pre">cdf()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.prob_in_range"><code class="docutils literal notranslate"><span class="pre">prob_in_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.gauss_kernel"><code class="docutils literal notranslate"><span class="pre">gauss_kernel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.rebin3"><code class="docutils literal notranslate"><span class="pre">rebin3()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.bilinear_shift"><code class="docutils literal notranslate"><span class="pre">bilinear_shift()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.shift_horizontal"><code class="docutils literal notranslate"><span class="pre">shift_horizontal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.shift"><code class="docutils literal notranslate"><span class="pre">shift()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.convolve2d"><code class="docutils literal notranslate"><span class="pre">convolve2d()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.max_peak"><code class="docutils literal notranslate"><span class="pre">max_peak()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.bounding_indices"><code class="docutils literal notranslate"><span class="pre">bounding_indices()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.apply_overlay"><code class="docutils literal notranslate"><span class="pre">apply_overlay()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.mask_in_bounding_box"><code class="docutils literal notranslate"><span class="pre">mask_in_bounding_box()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.grid_coords_in_bbox"><code class="docutils literal notranslate"><span class="pre">grid_coords_in_bbox()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.set_flag"><code class="docutils literal notranslate"><span class="pre">set_flag()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.normalize_image"><code class="docutils literal notranslate"><span class="pre">normalize_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.normalize_image_fast"><code class="docutils literal notranslate"><span class="pre">normalize_image_fast()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.atan"><code class="docutils literal notranslate"><span class="pre">atan()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.gaussian_moments"><code class="docutils literal notranslate"><span class="pre">gaussian_moments()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.gaussian_centroid"><code class="docutils literal notranslate"><span class="pre">gaussian_centroid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.interpolate_2d_grid"><code class="docutils literal notranslate"><span class="pre">interpolate_2d_grid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.spectral_axis"><code class="docutils literal notranslate"><span class="pre">spectral_axis()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.compute_wavelengths"><code class="docutils literal notranslate"><span class="pre">compute_wavelengths()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.is_left"><code class="docutils literal notranslate"><span class="pre">is_left()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.contains"><code class="docutils literal notranslate"><span class="pre">contains()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_SpectraDecontamination.Utils.rasterize"><code class="docutils literal notranslate"><span class="pre">rasterize()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_SpectraDecontamination">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SIR_SpectraDecontamination</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">SIR_SpectraDecontamination</a></li>
      <li class="breadcrumb-item active">SIR_SpectraDecontamination package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/SIR_SpectraDecontamination.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sir-spectradecontamination-package">
<h1>SIR_SpectraDecontamination package<a class="headerlink" href="#sir-spectradecontamination-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-SIR_SpectraDecontamination.AstroObjectInfo">
<span id="astroobjectinfo-module"></span><h2>AstroObjectInfo module<a class="headerlink" href="#module-SIR_SpectraDecontamination.AstroObjectInfo" title="Permalink to this heading"></a></h2>
<p>Contains the AstroObjectInfo class, which is used for storing information about a specific physical object. Notably,
the class contains references to the spectra that it produces.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AstroObjectInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutouts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phot_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'J'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_mag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stores astrophysical data about a specific galaxy or star.</p>
<p>This class expands upon the data available in the AstronomicalObject class
by adding the Y, J and H band fluxes (rather than the magnitudes), a model for the
1-dimensional spectrum of the object, and a lookup data structure for quickly
finding which dithers the object appears in, which detectors within each detector,
which spectral orders appear on each dither. The lookup structure also points to
the SpectrumInfo objects associated with this particular star or galaxy.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.STAR">
<span class="sig-name descname"><span class="pre">STAR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.STAR" title="Permalink to this definition"></a></dt>
<dd><p>Indicates that the object is a star</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.GALAXY">
<span class="sig-name descname"><span class="pre">GALAXY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.GALAXY" title="Permalink to this definition"></a></dt>
<dd><p>Indicates that the object is a galaxy</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.ZEROTH_ORDER_THRESHOLD">
<span class="sig-name descname"><span class="pre">ZEROTH_ORDER_THRESHOLD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.ZEROTH_ORDER_THRESHOLD" title="Permalink to this definition"></a></dt>
<dd><p>Zeroth orders fainter than this threshold, in all bands, will be ignored.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.SECOND_ORDER_THRESHOLD">
<span class="sig-name descname"><span class="pre">SECOND_ORDER_THRESHOLD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">16</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.SECOND_ORDER_THRESHOLD" title="Permalink to this definition"></a></dt>
<dd><p>Second orders fainter than this threshold, in all bands, will be ignored.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.WAVELENGTHS">
<span class="sig-name descname"><span class="pre">WAVELENGTHS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.WAVELENGTHS" title="Permalink to this definition"></a></dt>
<dd><p>The wavelengths used by all 1D model spectra</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.EUC_TO_2MASS">
<span class="sig-name descname"><span class="pre">EUC_TO_2MASS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'H':</span> <span class="pre">'H2M',</span> <span class="pre">'J':</span> <span class="pre">'J2M'}</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.EUC_TO_2MASS" title="Permalink to this definition"></a></dt>
<dd><p>The mapping from Euclid band name to 2MASS band name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.load_spectra">
<span class="sig-name descname"><span class="pre">load_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grism_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.load_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.load_spectra" title="Permalink to this definition"></a></dt>
<dd><p>Loads all spectra associated with the object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location_object</strong> (<em>LocationObject</em>) – Contains all known information about all spectra in a particular detector</p></li>
<li><p><strong>grism_model</strong> (<a class="reference internal" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism" title="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism"><em>DetectorGrism</em></a>) – The DetectorGrism object associated with the detector and dither that corresponds to the LocationTable
object.</p></li>
<li><p><strong>padding</strong> (<em>int</em>) – The number of pixels that should be inserted between the bounding box of each spectral cutout
(specified in a <cite>SpectrumInfo</cite> object) and the rectangle defined by the <cite>LocationSpectrum</cite> object
in the LocationTable.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Side Effects</p>
<p>Modifies <cite>self._spectra_info</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_dithers">
<span class="sig-name descname"><span class="pre">get_dithers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.get_dithers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_dithers" title="Permalink to this definition"></a></dt>
<dd><p>Identifies which dithers this object appears in.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</span></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of the dithers in which this object appears (e.g., [1, 2, 3, 4]).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_detectors">
<span class="sig-name descname"><span class="pre">get_detectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.get_detectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_detectors" title="Permalink to this definition"></a></dt>
<dd><p>Identifies the detectors in which the object appears.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dither</strong> – the dither sequence number (1, 2, 3, 4)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of the detectors, within the specified dither, that the object appears. If the object appears in
no detectors within this dither, an empty list <cite>[]</cite> is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_orders">
<span class="sig-name descname"><span class="pre">get_orders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.get_orders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_orders" title="Permalink to this definition"></a></dt>
<dd><p>Identifies which spectral orders appear in the specified detector of the specified dither.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither sequence number, which is an integer in (1, 2, 3, 4)</p></li>
<li><p><strong>detector</strong> (<em>int</em>) – The detector number, which is an integer in (1, 2, 3, …, 16)</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>list</em> – A list of spectral orders that appear in the specified detector. For instance, [0, 1, 2].
An empty list <cite>[]</cite> is returned if no spectral orders appear in the specified detector.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_spec_info">
<span class="sig-name descname"><span class="pre">get_spec_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.get_spec_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_spec_info" title="Permalink to this definition"></a></dt>
<dd><p>Fetches the SpectrumInfo object of the specified spectral order on the specified dither and detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither sequence number (1, 2, 3, 4)</p></li>
<li><p><strong>detector</strong> (<em>int</em>) – The detector number (1, 2, 3, …, 16)</p></li>
<li><p><strong>order</strong> (<em>int</em>) – The spectral order (one of 0, 1, or 2)</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo" title="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpectrumInfo</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The <cite>SpectrumInfo</cite> object associated with the specified order on the specified detector and dither.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_1d_spectrum">
<span class="sig-name descname"><span class="pre">get_1d_spectrum</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.get_1d_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.get_1d_spectrum" title="Permalink to this definition"></a></dt>
<dd><p>Computes and returns the full 1D spectral model of the object (continuum + lines).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]</span></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>one_dimensional_spectrum</strong> (<em>np.ndarray or None</em>) – The 1D model spectrum of the object, if the spectrum has already been measured. Otherwise,
None is returned.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.object_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.object_type" title="Permalink to this definition"></a></dt>
<dd><p>The type of object (i.e., STAR or GALAXY)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.object_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.object_id" title="Permalink to this definition"></a></dt>
<dd><p>The ID number of the object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.is_usable">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_usable</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.is_usable" title="Permalink to this definition"></a></dt>
<dd><p>Tells whether the object is populated with usable information.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p><strong>usable</strong> –</p>
<dl class="simple">
<dt>True if the object has been provided with all required data about the physical object in question;</dt><dd><p>False otherwise.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.invalid_mag">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">invalid_mag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.invalid_mag" title="Permalink to this definition"></a></dt>
<dd><p>Specifies whether all three broadband magnitudes are valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>invalid</strong> – False if Y, J and H magnitudes are finite floating point values. True otherwise.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.spectra">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spectra</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#SIR_SpectraDecontamination.NestedDict.NestedDict" title="SIR_SpectraDecontamination.NestedDict.NestedDict"><span class="pre">NestedDict</span></a></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.spectra" title="Permalink to this definition"></a></dt>
<dd><p>All of the spectra of this object, in a NestedDict, organized by [‘dither’, ‘detector’, ‘order’]</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.continuum">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">continuum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.continuum" title="Permalink to this definition"></a></dt>
<dd><p>The 1-dimensional continuum.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.lines">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lines</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#SIR_SpectraDecontamination.LineModeller.LineModeller" title="SIR_SpectraDecontamination.LineModeller.LineModeller"><span class="pre">SIR_SpectraDecontamination.LineModeller.LineModeller</span></a></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.lines" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.interp_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interp_mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.interp_mask" title="Permalink to this definition"></a></dt>
<dd><p>Specifies which elements of the wavelength array were interpolated, or simply True or False if the entire
wavelength range was interpolated or was not interpolated.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.stamp">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stamp</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.stamp" title="Permalink to this definition"></a></dt>
<dd><p>The Cutout (stamp image) of the object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.has_been_measured">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_been_measured</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.has_been_measured" title="Permalink to this definition"></a></dt>
<dd><p>Have we attempted to measure the spectrum, rather than simply using the broad-band fluxes? If so True.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.has_2mass_mags">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_2mass_mags</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.has_2mass_mags" title="Permalink to this definition"></a></dt>
<dd><p>Are 2MASS magnitudes being used? If so, True.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.flux">
<span class="sig-name descname"><span class="pre">flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">band</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.flux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.flux" title="Permalink to this definition"></a></dt>
<dd><p>Gets the flux of the specified band.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>band</strong> (<em>str</em>) – Specified the band (filter) name (one of ‘y’, ‘Y’, ‘j’, ‘J’, ‘h’, ‘H’)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>flux</strong> (<em>float</em>) – The flux of the object in the specified band in erg / s / cm^2 / Angstrom.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.dflux">
<span class="sig-name descname"><span class="pre">dflux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">band</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.dflux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.dflux" title="Permalink to this definition"></a></dt>
<dd><p>Gets the flux uncertainty of the specified band.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>band</strong> (<em>str</em>) – Specified the band (filter) name (one of ‘y’, ‘Y’, ‘j’, ‘J’, ‘h’, ‘H’)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>flux</strong> (<em>float</em>) – The uncertainty in the flux reported by the flux() method, for the specified band,.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.mag">
<span class="sig-name descname"><span class="pre">mag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">band</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.mag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.mag" title="Permalink to this definition"></a></dt>
<dd><p>Gets the AB magnitude of the specified band.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>band</strong> (<em>str</em>) – Specified the band (filter) name (one of ‘y’, ‘Y’, ‘j’, ‘J’, ‘h’, ‘H’)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>magnitude</strong> (<em>float</em>) – The AB magnitude of the object in the specified band.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.delete_stamp">
<span class="sig-name descname"><span class="pre">delete_stamp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/AstroObjectInfo.html#AstroObjectInfo.delete_stamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo.delete_stamp" title="Permalink to this definition"></a></dt>
<dd><p>Deletes the stamp image.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.ConvolutionKernel">
<span id="convolutionkernel-module"></span><h2>ConvolutionKernel module<a class="headerlink" href="#module-SIR_SpectraDecontamination.ConvolutionKernel" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ConvolutionKernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposure_direction</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ConvolutionKernel.html#ConvolutionKernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Creates the 2-dimensional kernel patches which are used when creating a 2D spectrum</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.SCALE_RATIO">
<span class="sig-name descname"><span class="pre">SCALE_RATIO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.SCALE_RATIO" title="Permalink to this definition"></a></dt>
<dd><p>spectroscopic_pixel_scale / cutout_pixel_scale</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>The number of cutout pixels per spectroscopic pixel</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.OBJECT_SIGMA_IN_PIXELS">
<span class="sig-name descname"><span class="pre">OBJECT_SIGMA_IN_PIXELS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.46</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.OBJECT_SIGMA_IN_PIXELS" title="Permalink to this definition"></a></dt>
<dd><p>The typical object PSF size (sigma) in units of cutout pixels. We use this hard-coded value to specify the
approximate size of a Gaussian kernel PSF corresponding to a point-source.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.MAX_PIXEL_VALUE">
<span class="sig-name descname"><span class="pre">MAX_PIXEL_VALUE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0800246131631913</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.MAX_PIXEL_VALUE" title="Permalink to this definition"></a></dt>
<dd><p>The maximum pixel value of a 2-D Gaussian kernel with sigma = OBJECT_SIGMA_IN_PIXELS</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.kernel_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kernel_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.kernel_size" title="Permalink to this definition"></a></dt>
<dd><p>The length of each edge of the kernel, in units of pixels.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.kernel_size_internal">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kernel_size_internal</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.kernel_size_internal" title="Permalink to this definition"></a></dt>
<dd><p>The size of the internally-stored kernel; this can be &gt;= kernel size in NISP-S pixel units.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.kernel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kernel</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.kernel" title="Permalink to this definition"></a></dt>
<dd><p>The kernel positioned at the current position; pixels are the same size as detector pixels.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.gaussian_sigma_major">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_sigma_major</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.gaussian_sigma_major" title="Permalink to this definition"></a></dt>
<dd><p>The standard deviation of the major axis of the best-fitting 2D Gaussian.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.gaussian_sigma_minor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_sigma_minor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.gaussian_sigma_minor" title="Permalink to this definition"></a></dt>
<dd><p>The standard deviation of the minor axis of the best-fitting 2D Gaussian.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.gaussian_theta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_theta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.gaussian_theta" title="Permalink to this definition"></a></dt>
<dd><p>The angle between the major axis and the +y-axis, measured counterclockwise, in units of degrees.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.region">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">region</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.region" title="Permalink to this definition"></a></dt>
<dd><p>The region, within the spectral cutout, covered by the kernel image at the current location.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.position">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">position</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.position" title="Permalink to this definition"></a></dt>
<dd><p>The (x, y) position of the centroid of current kernel and region, in detector coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.in_spectral_box">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">in_spectral_box</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.in_spectral_box" title="Permalink to this definition"></a></dt>
<dd><p>Specifies whether a kernel centered at the current overlaps with the spectral cutout.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.const_kernel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">const_kernel</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.const_kernel" title="Permalink to this definition"></a></dt>
<dd><p>The fixed, immutable 2D kernel patch; potentially has smaller pixels than the detector.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.history">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.history" title="Permalink to this definition"></a></dt>
<dd><p>An optional list of previously-computed results.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.wavelength">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wavelength</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.wavelength" title="Permalink to this definition"></a></dt>
<dd><p>The wavelength of the current PSF.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.move_to">
<span class="sig-name descname"><span class="pre">move_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ConvolutionKernel.html#ConvolutionKernel.move_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.move_to" title="Permalink to this definition"></a></dt>
<dd><p>Sets the new kernel position; moves the kernel centroid to the specified position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – The x-coordinate of the new position, in the coordinate system of the detector.</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The x-coordinate of the new position, in the coordinate system of the detector.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.set_wavelength">
<span class="sig-name descname"><span class="pre">set_wavelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">psf_wavelength</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ConvolutionKernel.html#ConvolutionKernel.set_wavelength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.set_wavelength" title="Permalink to this definition"></a></dt>
<dd><p>Sets the wavelength of the PSF.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.add_to_history">
<span class="sig-name descname"><span class="pre">add_to_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ConvolutionKernel.html#ConvolutionKernel.add_to_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.add_to_history" title="Permalink to this definition"></a></dt>
<dd><p>Adds the current kernel and bounding box to the history.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – The integer index of the wavelength value associated with this state of
the kernel.</p></li>
<li><p><strong>wavelength</strong> (<em>float</em>) – The wavelength associated with this particular state of the kernel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.clear_history">
<span class="sig-name descname"><span class="pre">clear_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ConvolutionKernel.html#ConvolutionKernel.clear_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.clear_history" title="Permalink to this definition"></a></dt>
<dd><p>Clears the cached history, which frees some memory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.compute_nisp_exposure_direction">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compute_nisp_exposure_direction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nisp_exposure</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ConvolutionKernel.html#ConvolutionKernel.compute_nisp_exposure_direction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel.compute_nisp_exposure_direction" title="Permalink to this definition"></a></dt>
<dd><p>Computes the direction of the +RA axis in a NISP exposure, in degrees, counterclockwise from +x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nisp_exposure</strong> (<em>NispSurveyExposure</em>) – The NISP exposure with which the spectrum is associated.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>angle</strong> (<em>float</em>)</p></li>
<li><p><em>The direction angle of the +DEC axis with respect to the +y axis. The angle is always</em></p></li>
<li><p><em>positive.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.DecontaminatedSpectraCollection">
<span id="decontaminatedspectracollection-module"></span><h2>DecontaminatedSpectraCollection module<a class="headerlink" href="#module-SIR_SpectraDecontamination.DecontaminatedSpectraCollection" title="Permalink to this heading"></a></h2>
<p>Contains the <cite>DecontaminatedSpectraCollection</cite> class, which is responsible for writing and reading
DecontaminatedSpectraCollection files.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DecontaminatedSpectraCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decontaminated_spectra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages a set of decontaminated spectra and models of their contaminants.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.FILE_FORMAT_NAME">
<span class="sig-name descname"><span class="pre">FILE_FORMAT_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DecontaminatedSpectraCollection'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.FILE_FORMAT_NAME" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.MODEL_SPECTRA_LABEL">
<span class="sig-name descname"><span class="pre">MODEL_SPECTRA_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Model</span> <span class="pre">Spectra'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.MODEL_SPECTRA_LABEL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.MODEL_1D_SPECTRA_LABEL">
<span class="sig-name descname"><span class="pre">MODEL_1D_SPECTRA_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'1D</span> <span class="pre">Model</span> <span class="pre">Spectra'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.MODEL_1D_SPECTRA_LABEL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.VALID_EXTENSIONS">
<span class="sig-name descname"><span class="pre">VALID_EXTENSIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('h5',</span> <span class="pre">'hde',</span> <span class="pre">'hdf',</span> <span class="pre">'hdf5',</span> <span class="pre">'he5',</span> <span class="pre">'json',</span> <span class="pre">'xml')</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.VALID_EXTENSIONS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.COMPRESSION">
<span class="sig-name descname"><span class="pre">COMPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'gzip'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.COMPRESSION" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.COMPRESS_LEVEL">
<span class="sig-name descname"><span class="pre">COMPRESS_LEVEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">8</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.COMPRESS_LEVEL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.SAVE_MODES">
<span class="sig-name descname"><span class="pre">SAVE_MODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'append',</span> <span class="pre">'create',</span> <span class="pre">'overwrite'}</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.SAVE_MODES" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.InitMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InitMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.InitMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.InitMethod" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Specifies the Initialization method.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.InitMethod.NONE">
<span class="sig-name descname"><span class="pre">NONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.InitMethod.NONE" title="Permalink to this definition"></a></dt>
<dd><p>NONE implies that the initialization has not happened yet.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.InitMethod.FROM_DECONTAMINATOR">
<span class="sig-name descname"><span class="pre">FROM_DECONTAMINATOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.InitMethod.FROM_DECONTAMINATOR" title="Permalink to this definition"></a></dt>
<dd><p>FROM_DECONTAMINATOR indicates that the collection was initialized using data from the SpectraDecontaminator.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.InitMethod.FROM_FILE">
<span class="sig-name descname"><span class="pre">FROM_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.InitMethod.FROM_FILE" title="Permalink to this definition"></a></dt>
<dd><p>FROM_FILE indicates that the collection was initialized by loading one or more files.</p>
</dd></dl>

</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.index">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex" title="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex"><span class="pre">SpectraCollectionIndex</span></a></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.index" title="Permalink to this definition"></a></dt>
<dd><p>The current (filtered) Index table</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.field_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">field_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.field_id" title="Permalink to this definition"></a></dt>
<dd><p>The Field ID associated with the contents of this DecontaminatedSpectrum Collection</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.dithers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dithers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.dithers" title="Permalink to this definition"></a></dt>
<dd><p>The set of dithers (integers)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.ids" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list lf all unique object IDs in the collection.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.by_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">by_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum" title="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum"><span class="pre">DecontaminatedSpectrum</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.by_id" title="Permalink to this definition"></a></dt>
<dd><p>An iterator which returns lists of spectra for each unique object ID.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.wavelengths_1d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wavelengths_1d</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.wavelengths_1d" title="Permalink to this definition"></a></dt>
<dd><p>The wavelength vector associated with the 1D spectra.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.mdb">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mdb</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">SIR_Products.DpdMdbDataBase.DpdMdbDataBase</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.mdb" title="Permalink to this definition"></a></dt>
<dd><p>The Mission Database</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.detector_models">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detector_models</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.detector_models" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of (dither, detector) -&gt; DetectorModel.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_dithers">
<span class="sig-name descname"><span class="pre">get_dithers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_dithers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_dithers" title="Permalink to this definition"></a></dt>
<dd><p>Lists the dithers present in this DecontaminatedSpectraCollection</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>]</span></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>tuple</em> – A tuple of integers specifying the dithers contained in the collection, as integers, 1, 2, 3, 4.
If there are no dithers,then an empty tuple is returned.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_detectors">
<span class="sig-name descname"><span class="pre">get_detectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_detectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_detectors" title="Permalink to this definition"></a></dt>
<dd><p>Lists the available detectors of the specified dither.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dither</strong> (<em>int</em>) – An integer in (1, 2, 3, 4) associated with the exposure number within the dither sequence.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>tuple</em> – A tuple of integers specifying the detectors of the specified dither that are present within the collection.
If there are no detectors,then an empty tuple is returned.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_object_ids">
<span class="sig-name descname"><span class="pre">get_object_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_object_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_object_ids" title="Permalink to this definition"></a></dt>
<dd><p>Gets the IDs of the objects whose spectra appear in the specified detector of the specified dither.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – An integer in (1, 2, 3, 4) associated with the exposure withing the dither sequence.</p></li>
<li><p><strong>detector</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – The number of the detector of interest within the specified dither (1, …, 16).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple of IDs of objects whose decontaminated spectra are located on the specified detector.
If there are no object IDs,then an empty tuple is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_observation_id">
<span class="sig-name descname"><span class="pre">get_observation_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_observation_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_observation_id" title="Permalink to this definition"></a></dt>
<dd><p>Finds the exposure ID associated with the dither index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dither</strong> (<em>int</em>) – The dither index, an integer (1, 2, 3, 4), specifying the exposure number within the dither sequence.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>int</em> – The exposure ID associated with the dither.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_pointing_id">
<span class="sig-name descname"><span class="pre">get_pointing_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_pointing_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_pointing_id" title="Permalink to this definition"></a></dt>
<dd><p>Finds the pointing ID associated with the dither index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dither</strong> (<em>int</em>) – The dither index, an integer (1, 2, 3, 4), specifying the exposure number within the dither sequence.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>int</em> – The pointing ID associated with the dither.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_exposure_time">
<span class="sig-name descname"><span class="pre">get_exposure_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_exposure_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_exposure_time" title="Permalink to this definition"></a></dt>
<dd><p>Finds the exposure ID associated with the dither index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dither</strong> (<em>int</em>) – The dither index, an integer (1, 2, 3, 4), specifying the exposure number within the dither sequence.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>float</em> – The exposure time, in seconds, associated with the specified dither.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_grism_position">
<span class="sig-name descname"><span class="pre">get_grism_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_grism_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_grism_position" title="Permalink to this definition"></a></dt>
<dd><p>Finds the position of the grism for the specified dither.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dither</strong> (<em>int</em>) – The dither index, an integer (1, 2, 3, 4), specifying the exposure number within the dither sequence.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>int</em> – The grism position associated with the specified dither.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_spectrum">
<span class="sig-name descname"><span class="pre">get_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_spectrum" title="Permalink to this definition"></a></dt>
<dd><p>Get the DecontaminatedSpectrum object corresponding to the object with the specified ID on the specified dither
and the specified detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither index, an integer (1, 2, 3, 4), specifying the exposure number within the dither sequence.</p></li>
<li><p><strong>detector</strong> (<em>int</em>) – The detector on which the spectrum of interest is located (1, …, 16).</p></li>
<li><p><strong>object_id</strong> (<em>int</em>) – The ID of the object whose spectrum will be returned.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum" title="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum"><code class="xref py py-class docutils literal notranslate"><span class="pre">DecontaminatedSpectrum</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>DecontaminatedSpectrum</em> – The DecontaminatedSpectrum object associated with the specified object in the specified detector of the
specified dither (exposure) within the dither pattern. If the specified object is not present, returns None.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_spectra">
<span class="sig-name descname"><span class="pre">get_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_spectra" title="Permalink to this definition"></a></dt>
<dd><p>Get all of the DecontaminatedSpectrum objects corresponding with the specified dither and detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither index, an integer (1, 2, 3, 4), specifying the exposure number within the dither sequence.</p></li>
<li><p><strong>detector</strong> (<em>int</em>) – The detector on which the spectrum of interest is located (1, …, 16).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>generator</em> – A generator that can be iterated to obtain a DecontaminatedSpectrum object for each spectrum falling
in the specified detector of the specified exposure.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_model">
<span class="sig-name descname"><span class="pre">get_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_model" title="Permalink to this definition"></a></dt>
<dd><p>Get the model spectrum of the object in the specified detector of the specified dither with ID = object_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither index, an integer (1, 2, 3, 4), specifying the exposure number within the dither sequence.</p></li>
<li><p><strong>detector</strong> (<em>int</em>) – The detector on which the spectrum of interest is located (1, …, 16).</p></li>
<li><p><strong>object_id</strong> (<em>int</em>) – The ID of the object whose spectrum will be returned.</p></li>
<li><p><strong>order</strong> (<em>int</em>) – The spectral order of the model in question.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>ModelSpectrum</em> – A ModelSpectrum object containing the requested model. If the model does not exist, returns None.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the specified order is not 1 or 2. Models are not created for the zeroth order, for instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_1d_model">
<span class="sig-name descname"><span class="pre">get_1d_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.get_1d_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.get_1d_model" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.filter_by_magnitude">
<span class="sig-name descname"><span class="pre">filter_by_magnitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.filter_by_magnitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.filter_by_magnitude" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.filter_by_size">
<span class="sig-name descname"><span class="pre">filter_by_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.filter_by_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.filter_by_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.filter_by_dither">
<span class="sig-name descname"><span class="pre">filter_by_dither</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.filter_by_dither"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.filter_by_dither" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.filter_by_detector">
<span class="sig-name descname"><span class="pre">filter_by_detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.filter_by_detector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.filter_by_detector" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.clear_filters">
<span class="sig-name descname"><span class="pre">clear_filters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.clear_filters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.clear_filters" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.clear_caches">
<span class="sig-name descname"><span class="pre">clear_caches</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.clear_caches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.clear_caches" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_tables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'create'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.write" title="Permalink to this definition"></a></dt>
<dd><p>Saves a JSON file containing a list of XML files. The JSON file will only contain the names of the XML files,
without the path information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>workdir</strong> (<em>str</em>) – The path to the work directory.</p></li>
<li><p><strong>json_name</strong> (<em>str</em>) – The name of the JSON file that will contain the list of XML files.</p></li>
<li><p><strong>location_tables</strong> (<a class="reference internal" href="#SIR_SpectraDecontamination.LocationTableSet.LocationTableSet" title="SIR_SpectraDecontamination.LocationTableSet.LocationTableSet"><em>LocationTableSet</em></a>) – The set of location tables that were used when producing this DecontaminatedSpectraCollection.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – Specifies the saving mode. Allowed values are {‘create’, ‘overwrite’, ‘append’}. Default: ‘create’.</p></li>
<li><p><strong>parallel</strong> (<em>bool</em>) – Specifies whether the files will be written in parallel. This should only set to True when
decontaminating entire detectors, rather than partial detectors. This is incompatible with the ‘append’
mode.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.load" title="Permalink to this definition"></a></dt>
<dd><p>Loads a DecontaminatedSpectraCollection HDF5 file or a list of files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The name of the file containing the DecontaminatedSpectraCollection that will be loaded (if the extension is
one of (‘h5’, ‘hde’, ‘hdf’, ‘hdf5’, or ‘he5’). If the file extension is <cite>json</cite>, then all files listed in
the JSON file will be loaded.</p></li>
<li><p><strong>data_dir</strong> (<em>str</em>) – The path to the directory containing the HDF5 files (optional; only needed if loading a JSON file).</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If the filename extension is not recognized or if the filename does not include the fully-qualified
    (absolute) path of an existing file.</p></li>
<li><p><strong>UserWarning</strong> – If the user tries to load data into an instance that has been initialized from a NestedDict.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Side Effects</p>
<p>Populates all of the internal data structures.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.concatenate">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">concatenate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectraCollection.html#DecontaminatedSpectraCollection.concatenate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection.concatenate" title="Permalink to this definition"></a></dt>
<dd><p>Concatenates file parts into full detector HDF5 files.</p>
<p>Takes a list of XML files for parts of detectors and outputs one file per detector without loading all
data into memory at once: only one detector worth of data is loaded at any given moment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither number</p></li>
<li><p><strong>detector</strong> (<em>int</em>) – The detector number</p></li>
<li><p><strong>json_file</strong> (<em>str</em>) – The filename of a JSON file containing a list of XML files.</p></li>
<li><p><strong>data_dir</strong> (<em>str</em>) – The path to the directory in which the HDF5 files are stored.</p></li>
<li><p><strong>location_tables</strong> (<a class="reference internal" href="#SIR_SpectraDecontamination.LocationTableSet.LocationTableSet" title="SIR_SpectraDecontamination.LocationTableSet.LocationTableSet"><em>LocationTableSet</em></a>) – The locationTableSet containing location table information relevant for these decontaminated
spectra collections.</p></li>
<li><p><strong>mdb</strong> (<em>DpdMdbDataBase</em>) – A Mission Database object.</p></li>
<li><p><strong>delete</strong> (<em>bool</em>) – If true, all input files listed in the original JSON file will be removed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.DecontaminatedSpectrum">
<span id="decontaminatedspectrum-module"></span><h2>DecontaminatedSpectrum module<a class="headerlink" href="#module-SIR_SpectraDecontamination.DecontaminatedSpectrum" title="Permalink to this heading"></a></h2>
<p>Contains the class,  <cite>DecontaminatedSpectrum</cite>, which stores the key output quantity of the SpectraDecontamination
Module.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DecontaminatedSpectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spectrum_cutout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectrum.html#DecontaminatedSpectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer" title="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpectrumContainer</span></code></a></p>
<p>A struct-like class for storing the decontamination products for a single spectrum.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.science">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">science</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.science" title="Permalink to this definition"></a></dt>
<dd><p>The decontaminated science layer [NumPy ndarray, float32].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.variance">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">variance</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.variance" title="Permalink to this definition"></a></dt>
<dd><p>Variance of the decontaminated science layer [NumPy ndarray, float32].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.mask" title="Permalink to this definition"></a></dt>
<dd><p>The mask layer, containing the decontamination flags as well as the flags that were present in the original
image [NumPy ndarray, uint32]. Pixels that are outside of the spectrogram are flagged as NULL (Flags.VOID) to
indicate that these pixels are not real; they are only fillers.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.contamination">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">contamination</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.contamination" title="Permalink to this definition"></a></dt>
<dd><p>The total contamination for this spectrum (the combined model spectra of all spectra that overlap with this
spectrum) [NumPy ndarray, float32].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.contaminants">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">contaminants</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.contaminants" title="Permalink to this definition"></a></dt>
<dd><p>A table listing contaminants, with the columns (id, order) [NumPy ndarray, (int64, int8)].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.collection" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">location</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">LocationSpectrum</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.location" title="Permalink to this definition"></a></dt>
<dd><p>The LocationSpectrum object for this spectrum, containing inverse dispersion solution and
other data that was present in the LocationTable [LocationSpectrum].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.boundary">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">boundary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.boundary" title="Permalink to this definition"></a></dt>
<dd><p>An array of points [(x1, y1), (x2, y2), …] around the border of the spectrum, in detector coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.polygon">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">polygon</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Polygon</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.polygon" title="Permalink to this definition"></a></dt>
<dd><p>A Shapely Polygon describing the boundary of the spectrum, in detector coordinates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.y_mag">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">y_mag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.y_mag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.j_mag">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">j_mag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.j_mag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.h_mag">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">h_mag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.h_mag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.y_flux">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">y_flux</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.y_flux" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.j_flux">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">j_flux</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.j_flux" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.h_flux">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">h_flux</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.h_flux" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.kernel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">kernel</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.kernel" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.width" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.height">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.height" title="Permalink to this definition"></a></dt>
<dd><p>Returns the height of the cutout region.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.model" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.wavelengths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wavelengths</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.wavelengths" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.get_gaussian_sigma_unit">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_gaussian_sigma_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectrum.html#DecontaminatedSpectrum.get_gaussian_sigma_unit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.get_gaussian_sigma_unit" title="Permalink to this definition"></a></dt>
<dd><p>Returns the unit of the number returned by .gaussian_sigma_major and .gaussian_sigma_minor.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Quantity</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.gaussian_sigma_major">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_sigma_major</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.gaussian_sigma_major" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.gaussian_sigma_minor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_sigma_minor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.gaussian_sigma_minor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.gaussian_theta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_theta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.gaussian_theta" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.rasterize_polygon">
<span class="sig-name descname"><span class="pre">rasterize_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">polygon</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DecontaminatedSpectrum.html#DecontaminatedSpectrum.rasterize_polygon"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DecontaminatedSpectrum.DecontaminatedSpectrum.rasterize_polygon" title="Permalink to this definition"></a></dt>
<dd><p>Creates a rasterized mask of a polygon: pixels within the polygon are True. False otherwise.</p>
<p>This is useful for displaying which pixels are contaminated by a spectrum: simply provide the polygon
of the contaminating spectrum to see which pixels are contaminated by that spectrum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>polygon</strong> (<em>Polygon</em>) – A Shapely Polygon object that will be masked. The vertex coordinates should be detector coordinates.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>mask</strong> (<em>np.ndarray</em>) – An array with the same dimensions as the pixel layers of the spectrum. Pixels are set to True inside
of the polygon, False elsewhere.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.DetectorGrism">
<span id="detectorgrism-module"></span><h2>DetectorGrism module<a class="headerlink" href="#module-SIR_SpectraDecontamination.DetectorGrism" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DetectorGrism</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nisp_exposure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorGrism.html#DetectorGrism"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the manipulation and creation of 1-D and 2-D spectra and stores configuration data.</p>
<p>Provides a means to convert spectra from physical units to pixel values. This involves using both the
features of the DetectorModel and the GrismModel, as well as other data from the Euclid Mission Database.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.MIN_WAV_INNER">
<span class="sig-name descname"><span class="pre">MIN_WAV_INNER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.MIN_WAV_INNER" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.MAX_WAV_INNER">
<span class="sig-name descname"><span class="pre">MAX_WAV_INNER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.MAX_WAV_INNER" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.PSF_MODEL">
<span class="sig-name descname"><span class="pre">PSF_MODEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.PSF_MODEL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.config">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.config" title="Permalink to this definition"></a></dt>
<dd><p>The configuration object (ConfigObj).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.nisp_exposure">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nisp_exposure</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.nisp_exposure" title="Permalink to this definition"></a></dt>
<dd><p>The NISP Survey exposure.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.full_wavelength_range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_wavelength_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.full_wavelength_range" title="Permalink to this definition"></a></dt>
<dd><p>The full wavelength range (min wavelength, max wavelength).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.inner_wavelength_range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">inner_wavelength_range</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.inner_wavelength_range" title="Permalink to this definition"></a></dt>
<dd><p>The wavelength range (min wavelength, max wavelength) of the inner region of the spectrum, where it is safe to
assume that the effects of the edges (the cut-on and cut-off regions of the filter) can be ignored.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.angstroms_per_pixel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">angstroms_per_pixel</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.angstroms_per_pixel" title="Permalink to this definition"></a></dt>
<dd><p>The spectral pixel scale.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.first_order_length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">first_order_length</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.first_order_length" title="Permalink to this definition"></a></dt>
<dd><p>The length of the first-order spectra, in units of pixel widths.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.exposure_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exposure_time</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.exposure_time" title="Permalink to this definition"></a></dt>
<dd><p>The exposure time in seconds.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.pixel_size_in_mm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pixel_size_in_mm</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.pixel_size_in_mm" title="Permalink to this definition"></a></dt>
<dd><p>The physical size of the pixels, in mm.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.xres">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xres</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.xres" title="Permalink to this definition"></a></dt>
<dd><p>The x-resolution of the detector.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.yres">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">yres</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.yres" title="Permalink to this definition"></a></dt>
<dd><p>The y-resolution of the detector</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.detector_model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detector_model</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.detector_model" title="Permalink to this definition"></a></dt>
<dd><p>The DetectorModel.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.dither">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dither</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.dither" title="Permalink to this definition"></a></dt>
<dd><p>The dither sequence number</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.grism_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grism_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.grism_name" title="Permalink to this definition"></a></dt>
<dd><p>The name of the grism.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.grism_sensitivity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grism_sensitivity</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.grism_sensitivity" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.psf_correction_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">psf_correction_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">interp1d</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.psf_correction_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.flambda_to_detector_counts">
<span class="sig-name descname"><span class="pre">flambda_to_detector_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_densities</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorGrism.html#DetectorGrism.flambda_to_detector_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.flambda_to_detector_counts" title="Permalink to this definition"></a></dt>
<dd><p>Converts units of erg/s/cm^2/Angstrom to detector_counts/Angstrom.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wavelengths</strong> (<em>1-D NumPy array</em><em> of </em><em>floats</em>) – The wavelengths of the flux measurements, in units of Angstroms.</p></li>
<li><p><strong>flux_densities</strong> (<em>1-D NumPy array</em><em> of </em><em>floats</em>) – The flux density measurements, in units of erg/s/cm^2/Angstrom.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>flux_density</strong> (<em>1-D NumPy array of floats</em>) – The flux density in units of detector counts per Angstrom.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.is_red">
<span class="sig-name descname"><span class="pre">is_red</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorGrism.html#DetectorGrism.is_red"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.is_red" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if this is a red grism.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.is_blue">
<span class="sig-name descname"><span class="pre">is_blue</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorGrism.html#DetectorGrism.is_blue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.is_blue" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if this is a blue grism.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.disperse">
<span class="sig-name descname"><span class="pre">disperse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spectrum_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorGrism.html#DetectorGrism.disperse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.disperse" title="Permalink to this definition"></a></dt>
<dd><p>Disperses (convolves) a 1-D spectrum onto a 2-D canvas to create a 2-D model spectrum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wavelengths</strong> (<em>1-D NumPy array</em><em> of </em><em>floats</em>) – The wavelengths of the flux measurements, in units of Angstroms.</p></li>
<li><p><strong>spectrum_info</strong> (<a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo" title="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo"><em>SpectrumInfo</em></a>) – The <cite>SpectrumInfo</cite> object associated with the model spectrum that will be created by this function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>model_spectrum</strong> (<em>2-D NumPy array of floats</em>) – The 2-D model spectrum corresponding to the spectrum described by <cite>spectrum_info</cite>.</p></li>
<li><p><strong>interpolation_mask</strong> (<em>2-D NumPy array of bools</em>) – A mask indicating whether the flux of each pixel of the model was computed using interpolation.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.get_zeroth_order_boxsize">
<span class="sig-name descname"><span class="pre">get_zeroth_order_boxsize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorGrism.html#DetectorGrism.get_zeroth_order_boxsize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorGrism.DetectorGrism.get_zeroth_order_boxsize" title="Permalink to this definition"></a></dt>
<dd><p>Determines the size of the zeroth-order in units of pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mag</strong> (<em>int</em>) – the magnitude of the object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>size</strong> (<em>tuple</em>)</p></li>
<li><p><em>A tuple of (spectral_size, spatial_size)</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.DetectorRegion">
<span id="detectorregion-module"></span><h2>DetectorRegion module<a class="headerlink" href="#module-SIR_SpectraDecontamination.DetectorRegion" title="Permalink to this heading"></a></h2>
<p>Contains the DetectorRegion class, which references a region of a detector without duplicating data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorRegion.DetectorRegion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DetectorRegion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nisp_detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorRegion.html#DetectorRegion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorRegion.DetectorRegion" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages a region of a NISP Detector Exposure in a memory-efficient way.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.nisp_detector">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nisp_detector</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.nisp_detector" title="Permalink to this definition"></a></dt>
<dd><p>Returns a reference to the fill NISP detector.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.bbox">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bbox</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.bbox" title="Permalink to this definition"></a></dt>
<dd><p>Returns the bounding box of the region of interest within the detector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.get_science">
<span class="sig-name descname"><span class="pre">get_science</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorRegion.html#DetectorRegion.get_science"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.get_science" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.get_variance">
<span class="sig-name descname"><span class="pre">get_variance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorRegion.html#DetectorRegion.get_variance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.get_variance" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.get_mask">
<span class="sig-name descname"><span class="pre">get_mask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/DetectorRegion.html#DetectorRegion.get_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.DetectorRegion.DetectorRegion.get_mask" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.Executor">
<span id="executor-module"></span><h2>Executor module<a class="headerlink" href="#module-SIR_SpectraDecontamination.Executor" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.concatenate">
<span class="sig-name descname"><span class="pre">concatenate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Executor.html#concatenate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.concatenate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.Executor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Executor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Executor.html#Executor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.Executor" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles the process of actually running the SpectraDecontaminator.</p>
<p>The Executor runs the decontamination code on a set of detectors, or a section of a single detector,
depending on the arguments provided.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.Executor.FINISHED_ALL_PARTS">
<span class="sig-name descname"><span class="pre">FINISHED_ALL_PARTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">23</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.Executor.FINISHED_ALL_PARTS" title="Permalink to this definition"></a></dt>
<dd><p>Exit code indicating that this is the final part in the series of parts of a detector.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.Executor.COMMAND_LINE_ERROR">
<span class="sig-name descname"><span class="pre">COMMAND_LINE_ERROR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.Executor.COMMAND_LINE_ERROR" title="Permalink to this definition"></a></dt>
<dd><p>Exit code indicating that there is an error in the command line.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.Executor.FILE_COUNTER">
<span class="sig-name descname"><span class="pre">FILE_COUNTER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DECON_FILE_COUNTER'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.Executor.FILE_COUNTER" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.Executor.FILE_PART">
<span class="sig-name descname"><span class="pre">FILE_PART</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DECON_FILE_PART_NUMBER'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.Executor.FILE_PART" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.Executor.DITHER">
<span class="sig-name descname"><span class="pre">DITHER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DECON_DITHER_NUMBER'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.Executor.DITHER" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.Executor.DETECTOR">
<span class="sig-name descname"><span class="pre">DETECTOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DECON_DETECTOR_NUMBER'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.Executor.DETECTOR" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Executor.Executor.exec">
<span class="sig-name descname"><span class="pre">exec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Executor.html#Executor.exec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Executor.Executor.exec" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.ExposureSet">
<span id="exposureset-module"></span><h2>ExposureSet module<a class="headerlink" href="#module-SIR_SpectraDecontamination.ExposureSet" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ExposureSet.ExposureSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExposureSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ExposureSet.html#ExposureSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ExposureSet.ExposureSet" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Loads and manages a set of NispSurveyExposures.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ExposureSet.ExposureSet.data_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ExposureSet.ExposureSet.data_dir" title="Permalink to this definition"></a></dt>
<dd><p>The directory dontaining the data files (FITS files, in this case).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ExposureSet.ExposureSet.exposure_filenames">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exposure_filenames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ExposureSet.ExposureSet.exposure_filenames" title="Permalink to this definition"></a></dt>
<dd><p>The list of filenames of the NISP survey exposure files that are loaded.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.Flags">
<span id="flags-module"></span><h2>Flags module<a class="headerlink" href="#module-SIR_SpectraDecontamination.Flags" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Flags.Flags">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Flags</span></span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Flags.html#Flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Flags.Flags" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Decontamination bitmask values.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Flags.Flags.INVALID">
<span class="sig-name descname"><span class="pre">INVALID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Flags.Flags.INVALID" title="Permalink to this definition"></a></dt>
<dd><p>Indcates that the pixel is invalid</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Flags.Flags.NIR_INVALID">
<span class="sig-name descname"><span class="pre">NIR_INVALID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Flags.Flags.NIR_INVALID" title="Permalink to this definition"></a></dt>
<dd><p>Teh pixel was marked as invalid by NIR</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Flags.Flags.ZERO">
<span class="sig-name descname"><span class="pre">ZERO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">256</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Flags.Flags.ZERO" title="Permalink to this definition"></a></dt>
<dd><p>The pixel is illuminated by a bright zeroth-order spectrum</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Flags.Flags.MISSING">
<span class="sig-name descname"><span class="pre">MISSING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">512</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Flags.Flags.MISSING" title="Permalink to this definition"></a></dt>
<dd><p>The pixel was decontaminated using a model that was constructed by interpolating the broadband photometry.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Flags.Flags.SIGCONT">
<span class="sig-name descname"><span class="pre">SIGCONT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2048</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Flags.Flags.SIGCONT" title="Permalink to this definition"></a></dt>
<dd><p>The pixel was strongly contaminated by other sources.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Flags.Flags.VOID">
<span class="sig-name descname"><span class="pre">VOID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4096</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.Flags.Flags.VOID" title="Permalink to this definition"></a></dt>
<dd><p>The pixel lies outside of the spectrogram</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.LineModel">
<span id="linemodel-module"></span><h2>LineModel module<a class="headerlink" href="#module-SIR_SpectraDecontamination.LineModel" title="Permalink to this heading"></a></h2>
<p>Contains the LineModeller class, which is used to model an emission line.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LineModel.LineModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LineModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelength_vectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flux_vectors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LineModel.html#LineModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LineModel.LineModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This represents an emission line in a 1D spectrum.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LineModel.LineModel.wavelength_range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wavelength_range</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.LineModel.LineModel.wavelength_range" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LineModel.LineModel.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LineModel.html#LineModel.eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LineModel.LineModel.eval" title="Permalink to this definition"></a></dt>
<dd><p>Evaluates the line model at the specified wavelengths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wavelengths</strong> (<em>1-D NumPy array</em>) – The wavelengths of the model, in Angstroms</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>model line fluxes</strong> (<em>1-D NumPy array</em>) – The fluxes corresponding to the emission line represented by this <cite>LineModel</cite>, in detector counts per
angstrom.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.LineModeller">
<span id="linemodeller-module"></span><h2>LineModeller module<a class="headerlink" href="#module-SIR_SpectraDecontamination.LineModeller" title="Permalink to this heading"></a></h2>
<p>Contains the LineModeller class, which is used for finding and modelling emission lines in an observed spectrum.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LineModeller.LineModeller">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LineModeller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">measured_spectra</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LineModeller.html#LineModeller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LineModeller.LineModeller" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The LineModeller class creates models of spectral emission lines.</p>
<p>The class takes segments of 1-D spectra from multiple dithers, searches for the presence of lines, and
creates models of any lines that are detected.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LineModeller.LineModeller.line_models">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">line_models</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.LineModeller.LineModeller.line_models" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LineModeller.LineModeller.mask">
<span class="sig-name descname"><span class="pre">mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LineModeller.html#LineModeller.mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LineModeller.LineModeller.mask" title="Permalink to this definition"></a></dt>
<dd><p>Indicates whether or not the specified wavelengths correspond to emission line regions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wavelengths</strong> (<em>1-D NumPy array</em>) – The wavelengths that will be checked.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>mask</strong> (<em>NumPy array of bools</em>) – For each entry in the <cite>wavelengths</cite> array, if the wavelength is within an emission line region, the entry
in the mask is False; otherwise the entry is True.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>TypeError</strong> – if the wavelengths parameter is not of the expected type.:</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.LocationTableSet">
<span id="locationtableset-module"></span><h2>LocationTableSet module<a class="headerlink" href="#module-SIR_SpectraDecontamination.LocationTableSet" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSet.LocationTableSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LocationTableSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LocationTableSet.html#LocationTableSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSet.LocationTableSet" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Loads and manages a set of h5LocationTable files.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSet.LocationTableSet.info">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">info</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo" title="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo"><span class="pre">SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo</span></a></em><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSet.LocationTableSet.info" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSet.LocationTableSet.empty_detectors">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">empty_detectors</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSet.LocationTableSet.empty_detectors" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSet.LocationTableSet.objects_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">objects_ids</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSet.LocationTableSet.objects_ids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.LocationTableSetInfo">
<span id="locationtablesetinfo-module"></span><h2>LocationTableSetInfo module<a class="headerlink" href="#module-SIR_SpectraDecontamination.LocationTableSetInfo" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LocationTableSetInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sir_config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LocationTableSetInfo.html#LocationTableSetInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Loads metadata about a set of h5LocationTable files.</p>
<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.get_lt_identifiers">
<span class="sig-name descname"><span class="pre">get_lt_identifiers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LocationTableSetInfo.html#LocationTableSetInfo.get_lt_identifiers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.get_lt_identifiers" title="Permalink to this definition"></a></dt>
<dd><p>Get the loaded LT identifiers to match the correct exposures</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>id string for each loaded LT</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.get_dithers">
<span class="sig-name descname"><span class="pre">get_dithers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LocationTableSetInfo.html#LocationTableSetInfo.get_dithers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.get_dithers" title="Permalink to this definition"></a></dt>
<dd><p>Return the dither sequence numbers present in the set of location tables.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.get_detectors">
<span class="sig-name descname"><span class="pre">get_detectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LocationTableSetInfo.html#LocationTableSetInfo.get_detectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.get_detectors" title="Permalink to this definition"></a></dt>
<dd><p>Gets the detectors present for the specified dither.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dither</strong> (<em>int</em>) – The dither sequence number of interest.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>detectors</strong> – For the specified dither, this returns a list of the detectors present in the set of LocationTables.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[int]</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>IndexError:</strong> – If the value provided for <cite>dither</cite> is not present in the set of LocationTables.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.get_hdf5_filename">
<span class="sig-name descname"><span class="pre">get_hdf5_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/LocationTableSetInfo.html#LocationTableSetInfo.get_hdf5_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.get_hdf5_filename" title="Permalink to this definition"></a></dt>
<dd><p>Gets the name of the HDF5 file associated with the specified dither and detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither sequence number of interest.</p></li>
<li><p><strong>detector</strong> (<em>int</em>) – The detector number of interest</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.detector_map">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detector_map</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.detector_map" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.json_filename">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">json_filename</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.json_filename" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.xml_filenames">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xml_filenames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.xml_filenames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.hdf5_filenames">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hdf5_filenames</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.hdf5_filenames" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.data_products">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_products</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">DpdSirLocationTable</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.data_products" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.metadata">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#SIR_SpectraDecontamination.NestedDict.NestedDict" title="SIR_SpectraDecontamination.NestedDict.NestedDict"><span class="pre">NestedDict</span></a></em><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.metadata" title="Permalink to this definition"></a></dt>
<dd><p>Returns a NestedDict of LocationTable objects containing only metadata.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.selection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">selection</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.selection" title="Permalink to this definition"></a></dt>
<dd><p>A list of indices of the selected tables</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.location_factory_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">location_factory_params</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.LocationTableSetInfo.LocationTableSetInfo.location_factory_params" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.ModelSpectrum">
<span id="modelspectrum-module"></span><h2>ModelSpectrum module<a class="headerlink" href="#module-SIR_SpectraDecontamination.ModelSpectrum" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ModelSpectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ModelSpectrum.html#ModelSpectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer" title="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpectrumContainer</span></code></a></p>
<p>A struct-like class for storing a single model of a 2D spectrum.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.order">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">order</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.order" title="Permalink to this definition"></a></dt>
<dd><p>The spectral order of the model (1 or 2) [int].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.pixels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pixels</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.pixels" title="Permalink to this definition"></a></dt>
<dd><p>The 2D model spectrum of the object [NumPy ndarray(float32)].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.interpolated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interpolated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.interpolated" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.interpolated_pixels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interpolated_pixels</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.interpolated_pixels" title="Permalink to this definition"></a></dt>
<dd><p>The interpolated pixel mask as a NumPy array of bools.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>interpolated_pixels</strong> (<em>NumPy ndarray of bools or None</em>)</p></li>
<li><p><em>None is returned if the data has not been set yet. Otherwise, an array of bools is returned. True values in the</em></p></li>
<li><p><em>array indicate places in which the pixels of the model are at least partially based upon interpolated fluxes.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">width</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.width" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.height">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">height</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.height" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.from_spec_info">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_spec_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/ModelSpectrum.html#ModelSpectrum.from_spec_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum.from_spec_info" title="Permalink to this definition"></a></dt>
<dd><p>Constructs a ModelSpectrum from a SpectrumInfo object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>spec_info</strong> (<a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo" title="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo"><em>SpectrumInfo</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>A ModelSpectrum object corresponding to the SpectrumInfo object. If the SpectrumInfo object already has a</em></p></li>
<li><p><em>ModelSpectrum, that object is returned instead of constructing a new one.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.NestedDict">
<span id="nesteddict-module"></span><h2>NestedDict module<a class="headerlink" href="#module-SIR_SpectraDecontamination.NestedDict" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.join" title="Permalink to this definition"></a></dt>
<dd><p>Combines arguments into a tuple and returns the tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>tuple</em> – A tuple containing all of the arguments provided to the function.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>list_a = [1, 2, 3]</p>
<p>tuple_a = (4, 5, 6)</p>
<p>integer = 7</p>
<p>join(<a href="#id1"><span class="problematic" id="id2">*</span></a>list_a, <a href="#id3"><span class="problematic" id="id4">*</span></a>tuple_a, integer)</p>
<p>returns: (1, 2, 3, 4, 5, 6, 7)</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NestedDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A Convenience class for managing nested dictionaries.</p>
<p>The NestedDict provides a standardized way to handle nested dictionaries, which are tree-like data structures of
the form:</p>
<blockquote>
<div><p>{field_0: {field_1: {field_2: {… {field_N: item}}}</p>
</div></blockquote>
<p>The fields of the nested dictionary are named (i.e., they are strings), their order in the nesting is specified upon
construction. The type of object that will be stored at the leaves of the nested dict is expected to be uniform
throughout the nested dict and is also specified upon construction (instantiation).</p>
<p>Such nested dictionaries are useful for organizing hierarchical data for certain data access patterns, however they
become cumbersome to deal with when the depth of the nesting exceeds 2. For example, suppose we had a nested
dictionary storing information about automobiles. It is of the format:</p>
<blockquote>
<div><p>{manufacturer: {model: {year: [VIN]}}}</p>
</div></blockquote>
<dl>
<dt>where</dt><dd><ul class="simple">
<li><p>manufacturer: the name of the company that manufactured the automobile.</p></li>
<li><p>model: the name of the model of the automobile</p></li>
<li><p>year: the model year of the automobile</p></li>
<li><p>[VIN]: a list of Vehicle Identification Numbers</p></li>
</ul>
<p>For example, to obtain the list of VINs for 1998 Toyota Avalons, we would use the syntax:</p>
<blockquote>
<div><p>vins = vin_numbers[‘Toyota’][‘Avalon’][1998]</p>
</div></blockquote>
<p>This might not seem too bad, but what if you forget the order in which the nesting was performed? It could have
just as easily have been organized as[1998][‘Toyota’][‘Avalon’]. If you forget how the data is structured, then
you have to inspect the contents or refer to documentation.</p>
<p>Another problem occurs when you wish to add new data to the data structure or fetch all of the values in a
sub-portion of the data structure.</p>
<p>With the NestedDict class, we can define the structure of the vin_numbers nested dictionary like this:</p>
<blockquote>
<div><p>vin_numbers = NestedDict(list, ‘manufacturer’, ‘model’, ‘year’)</p>
</div></blockquote>
<p>To access the VIN numbers of the 1998 Toyota Avalons, we could do any of the following:</p>
<blockquote>
<div><p>vin_numbers[‘Toyota’, ‘Avalon’, 1998]</p>
<p>vin_numbers.get_item(‘Toyota’, ‘Avalon’, 1998)</p>
<p>vin_number.get_item(year=1998, manufacturer=’Toyota’, model=’Avalon’)</p>
</div></blockquote>
<p>Notice that the third option does not require knowledge of the order of the nesting.</p>
<p>In order to find out how the data is nested, we can use the <cite>fields</cite> property, as in:</p>
<blockquote>
<div><p>vin_number.fields</p>
</div></blockquote>
<p>If we need to add a list of VINs for a new type of automobile, we simply use:</p>
<blockquote>
<div><p>vin_number[‘Tesla’, ‘Model 3’, 2017] = vins</p>
</div></blockquote>
<p>or</p>
<blockquote>
<div><p>vin_number.add_item(vins, ‘Tesla’, ‘Model 3’, 2017)</p>
</div></blockquote>
<p>or</p>
<blockquote>
<div><p>vin_number.add_item(vins, manufacturer=’Tesla’, year=2017, model=’Model 3’)</p>
</div></blockquote>
<p>All parent dictionaries are automatically created. If we try to add an object of the wrong type or we try to
increase the depth of the nested dictionary, we encounter an error (exception).</p>
<p>If we wanted to obtain the VINs for all model years of Hyundai Sonatas, we could do this:</p>
<blockquote>
<div><p>vin_number.values(‘Hyundai’, ‘Sonata’)</p>
</div></blockquote>
<dl class="simple">
<dt>or</dt><dd><p>vin_number.values(model=’Sonata’, manufacturer=’Hyundai’)</p>
</dd>
</dl>
<p>If we wanted to obtain the nested dictionary containing all Honda Accord vehicles:</p>
<blockquote>
<div><p>vin_number.get_subdict(‘Honda’, ‘Accord’)</p>
</div></blockquote>
<p>This returns a regular dict object. To return a NestedDict containing information for all Hondas, we would do
this:</p>
<blockquote>
<div><p>honda = vin_number.get_nested_dict(‘Honda’)</p>
</div></blockquote>
<dl class="simple">
<dt>or</dt><dd><p>honda = vin_number.get_nested_dict(manufacturer=’Honda’)</p>
</dd>
</dl>
<p>Note that we cannot return a NestedDict containing all Honda Accords, because the resulting dictionary would
not be nested (it would be of the format {year: [VIN]}).</p>
<p>Since <cite>honda</cite> is a sub-dictionary of vin_number, it has fewer fields. In particular, honda.fields returns
(‘model’, ‘year’).</p>
<p>We can also return all items, along with their paths using the <cite>items</cite> property. For example:</p>
<blockquote>
<div><dl class="simple">
<dt>for vin in vin_number.items:</dt><dd><p>print(vin)</p>
</dd>
</dl>
</div></blockquote>
<p>would print out something like this:</p>
<blockquote>
<div><p>(‘Acura’, ‘ILX’, 2018, [list of VINS])
(‘Acura’, ‘ILX’, 2017, [list of VINS])
(‘Acura’, ‘ILX’, 2016, [list of VINS])
.
.
.
(‘Volvo’, ‘PV51-7’, 1936, [list of VINS])</p>
</div></blockquote>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.fields">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fields</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.fields" title="Permalink to this definition"></a></dt>
<dd><p>The names of the fields of the nested dictionary</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.root">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.root" title="Permalink to this definition"></a></dt>
<dd><p>The highest-level (outer-most) dict in the nested dictionary.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.dtype">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dtype</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.dtype" title="Permalink to this definition"></a></dt>
<dd><p>The data type of the items stored in the dictionary.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.items">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">items</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.items" title="Permalink to this definition"></a></dt>
<dd><p>Provides a flattened view of the contents of the nested dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A generator which returns tuples of the form (key0, key1, key2, … keyN, value)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>iterable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.index_of">
<span class="sig-name descname"><span class="pre">index_of</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict.index_of"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.index_of" title="Permalink to this definition"></a></dt>
<dd><p>Finds the index of the specified field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of a field in the nested dict.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>index</strong> (<em>int</em>) – The index of the field within the nested dictionary. For example, if the structure of the nested dict is
<cite>{country code : {postal code: [list of names]}}</cite>, then the dict is indexed as
<cite>dict[country code][postal code]</cite>. Thus <cite>index_of(‘postal code’)</cite> returns 1 and <cite>index_of(‘country code’)</cite>
returns 0. If the <cite>name</cite> is not a field name, then the function returns None.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.get_item">
<span class="sig-name descname"><span class="pre">get_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict.get_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.get_item" title="Permalink to this definition"></a></dt>
<dd><p>Returns the item located at the specified location within the full nested dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>tuple</em>) – The location in the nested dict of a sub-dict.</p></li>
<li><p><strong>kwpath</strong> (<em>dict:</em>) – The location in the requested item as a dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>item</strong> (<em>self.dtype</em>) – The item located at the specified location</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> – Raised if the path and kwpath are both specified; only one is allowed.</p></li>
<li><p><strong>ValueError</strong> – Raised if the kwpath does not represent a path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.add_item">
<span class="sig-name descname"><span class="pre">add_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict.add_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.add_item" title="Permalink to this definition"></a></dt>
<dd><p>Adds an item to the nested dict at the location specified by <cite>path</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<em>self.dtype</em>) – The item that will be added to the nested dictionary.</p></li>
<li><p><strong>path</strong> (<em>tuple</em>) – The location in the nested dict in which to place the item. If the location does not exist, it will be
created. If an item already exists in the specified location, it will be replaced by the new <cite>item</cite>.</p></li>
<li><p><strong>kwpath</strong> (<em>dict:</em>) – The location in the nested dict. The structure of the kwpath should be
<cite>{field_name_0: key_0, field_name_1: key_1, … field_name_N: key_N}</cite>. This allows  the user to call the
function like <cite>.keys(field_name_N=key_N, field_name_1=key_1, …)</cite> so that the user does not need to
remember the order in which the dictionaries corresponding to the fields are nested.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Side Effects</p>
<p>Modifies the internal nested dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> – Raised if the dimensionality of the path is incorrect or if the path and kwpath are both specified; only
    one is allowed.</p></li>
<li><p><strong>TypeError</strong> – Raised if the data type of the <cite>item</cite> does not match the expected type specified by <cite>self.dtype</cite>.</p></li>
<li><p><strong>ValueError</strong> – Raised if the kwpath does not represent a path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict.delete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.delete" title="Permalink to this definition"></a></dt>
<dd><p>Deletes the sub-dictionary or item located at the specified path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>tuple</em>) – The location of the item or sub-dict that will be deleted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.values" title="Permalink to this definition"></a></dt>
<dd><p>Fetches all values under the specified location in the nested dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>tuple</em>) – The location in the nested dict in which to place the item.</p></li>
<li><p><strong>kwpath</strong> (<em>dict:</em>) – The location in the nested dict. The structure of the kwpath should be
<cite>{field_name_0: key_0, field_name_1: key_1, … field_name_N: key_N}</cite>. This allows  the user to call the
function like <cite>.keys(field_name_N=key_N, field_name_1=key_1, …)</cite> so that the user does not need to
remember the order in which the dictionaries corresponding to the fields are nested.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>values</strong> (<em>iterable</em>) – An iterable object which generates values located under the specified location in the nested dictionary.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> – Raised if the path and kwpath are both specified; only one is allowed.</p></li>
<li><p><strong>ValueError</strong> – Raised if the kwpath does not represent a path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.keys" title="Permalink to this definition"></a></dt>
<dd><p>Returns an iterable container of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>tuple</em>) – The location in the nested dict of a sub-dict for which the keys will be returned. It is assumed to be the
location of a dict. If no path is provided, the keys of the top-level dict will be returned.</p></li>
<li><p><strong>kwpath</strong> (<em>dict:</em>) – The location in the nested dict of a sub-dict for which the keys will be returned. The structure of the
kwpath should be <cite>{field_name_0: key_0, field_name_1: key_1, … field_name_N: key_N}</cite>. This allows
the user to call the function like <cite>.keys(field_name_N=key_N, field_name_1=key_1, …)</cite> so that the
the user does not need to remember the order in which the dictionaries corresponding to the fields are
nested.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>keys</strong> (<em>iterable</em>) – An iterable container of dict keys. If the <cite>path</cite> does not point to a dictionary, then <cite>None</cite> is returned.
If no path was specified, then the keys of the root dictionary are returned.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> – Raised if the path and kwpath are both specified; only one is allowed.</p></li>
<li><p><strong>ValueError</strong> – Raised if the kwpath does not represent a path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.get_subdict">
<span class="sig-name descname"><span class="pre">get_subdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict.get_subdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.get_subdict" title="Permalink to this definition"></a></dt>
<dd><p>Returns the sub-dictionary located at the specified location within the full nested dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>tuple</em>) – The location in the nested dict of a sub-dict.</p></li>
<li><p><strong>kwpath</strong> (<em>dict:</em>) – The location in the nested dict of a sub-dict. The structure of the kwpath should be
<cite>{field_name_0: key_0, field_name_1: key_1, … field_name_N: key_N}</cite>. This allows the user to call the
function like <cite>.keys(field_name_N=key_N, field_name_1=key_1, …)</cite> so that the user does not need to
remember the order in which the dictionaries corresponding to the fields are nested.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>subdict</strong> (<em>dict or dtype</em>) – The dictionary located at the specified location. If no path is provided, then this is the same as the root
dictionary. Returns None if the format of the path is correct but it does not point to an existing location.
If the path points to a leaf, then the item at the leaf is returned.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> – Raised if the path and kwpath are both specified; only one is allowed or if the path specifies an item rather
    than a sub-dictionary.</p></li>
<li><p><strong>ValueError</strong> – Raised if the kwpath does not represent a path.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.NestedDict.NestedDict.get_nested_dict">
<span class="sig-name descname"><span class="pre">get_nested_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plural_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwpath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/NestedDict.html#NestedDict.get_nested_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.NestedDict.NestedDict.get_nested_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.PhotometerInfo">
<span id="photometerinfo-module"></span><h2>PhotometerInfo module<a class="headerlink" href="#module-SIR_SpectraDecontamination.PhotometerInfo" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.PhotometerInfo.PhotometerInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PhotometerInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/PhotometerInfo.html#PhotometerInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.PhotometerInfo.PhotometerInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Extracts pertinent information about the photometric filters from the Mission Database.</p>
<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.PhotometerInfo.PhotometerInfo.effective_wavelength">
<span class="sig-name descname"><span class="pre">effective_wavelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">band</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/PhotometerInfo.html#PhotometerInfo.effective_wavelength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.PhotometerInfo.PhotometerInfo.effective_wavelength" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.PhotometerInfo.PhotometerInfo.filter_transmission">
<span class="sig-name descname"><span class="pre">filter_transmission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">band</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/PhotometerInfo.html#PhotometerInfo.filter_transmission"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.PhotometerInfo.PhotometerInfo.filter_transmission" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.PsfModel">
<span id="psfmodel-module"></span><h2>PsfModel module<a class="headerlink" href="#module-SIR_SpectraDecontamination.PsfModel" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.PsfModel.PsfModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PsfModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_scale</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/PsfModel.html#PsfModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.PsfModel.PsfModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Extracts the parameters for the two-component Gaussian fit to the wavelength-dependent PSF.</p>
<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.PsfModel.PsfModel.get_parameters">
<span class="sig-name descname"><span class="pre">get_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/PsfModel.html#PsfModel.get_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.PsfModel.PsfModel.get_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Determines the parameters of the model PSF, given as a mixture of 2D Gaussians</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grism</strong> (<em>str</em>) – The name of the grism.</p></li>
<li><p><strong>detector_id</strong> (<em>str</em>) – The detector ID number, as a string (example: ‘11’, ‘23’, ‘44’)</p></li>
<li><p><strong>wavelength</strong> (<em>float</em>) – The wavelength, in units of Angstroms.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>psf_parameters</strong> (<em>Tuple[Tuple[float, float], Tuple[float, float]]</em>)</p></li>
<li><p><em>A tuple of ((psf1_amplitude, sigma1), (psf2_amplitude, sigma2)).</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.QualityStatistics">
<span id="qualitystatistics-module"></span><h2>QualityStatistics module<a class="headerlink" href="#module-SIR_SpectraDecontamination.QualityStatistics" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.QualityStatistics.QualityStatistics">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QualityStatistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decon_spectra</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/QualityStatistics.html#QualityStatistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.QualityStatistics.QualityStatistics" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Computes Statistics on the DecontaminatedSpectraCollection objects for quality control.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.QualityStatistics.QualityStatistics.MIN_WAV">
<span class="sig-name descname"><span class="pre">MIN_WAV</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">12450.0</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.QualityStatistics.QualityStatistics.MIN_WAV" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.QualityStatistics.QualityStatistics.MAX_WAV">
<span class="sig-name descname"><span class="pre">MAX_WAV</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">18550.0</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.QualityStatistics.QualityStatistics.MAX_WAV" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.QualityStatistics.QualityStatistics.add_statistics">
<span class="sig-name descname"><span class="pre">add_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/QualityStatistics.html#QualityStatistics.add_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.QualityStatistics.QualityStatistics.add_statistics" title="Permalink to this definition"></a></dt>
<dd><p>Compute the statistics to the decontaminated spectra collection data product</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither number (1-4) of the data product</p></li>
<li><p><strong>detector</strong> (<em>int</em>) – The detector number (1-16) of the data product</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.QualityStatistics.QualityStatistics.get_dict_dqc_parameters">
<span class="sig-name descname"><span class="pre">get_dict_dqc_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/QualityStatistics.html#QualityStatistics.get_dict_dqc_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.QualityStatistics.QualityStatistics.get_dict_dqc_parameters" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SearchGrid">
<span id="searchgrid-module"></span><h2>SearchGrid module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SearchGrid" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SearchGrid.SearchGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SearchGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum_info_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilt_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">34</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SearchGrid.html#SearchGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SearchGrid.SearchGrid" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages a data structure that can be used to quickly search for overlapping boxes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SearchGrid.SearchGrid.find_contaminants">
<span class="sig-name descname"><span class="pre">find_contaminants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_box</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mag_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mag_band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'J'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SearchGrid.html#SearchGrid.find_contaminants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SearchGrid.SearchGrid.find_contaminants" title="Permalink to this definition"></a></dt>
<dd><p>Creates a list of the contaminants that overlap the specified box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid_box</strong> (<em>tuple</em>) – A bounding box, specified as a tuple (left, bottom, width, height), in grid coordinates.</p></li>
<li><p><strong>ignore_idx</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – If specified, the object with this index will be ignored; it will not be added to the list
of contaminants.</p></li>
<li><p><strong>mag_limit</strong> (<em>float</em>) – The maximum magnitude to include as a contaminant.</p></li>
<li><p><strong>mag_band</strong> (<em>str</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[SpectrumInfo]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>contaminating spectra</strong> (<em>list</em>) – A list of contaminating spectra (<cite>SpectrumInfo</cite> objects) that overlap the specified box.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SearchGrid.SearchGrid.get_grid_bbox">
<span class="sig-name descname"><span class="pre">get_grid_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SearchGrid.html#SearchGrid.get_grid_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SearchGrid.SearchGrid.get_grid_bbox" title="Permalink to this definition"></a></dt>
<dd><p>Returns the bounding box of the input coordinates in the coordinate system of the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_image</strong> (<em>Iterable</em><em>[</em><em>float</em><em>]</em>) – The x-coordinates of the points that will be transformed to the coordinate system of the grid.</p></li>
<li><p><strong>y_image</strong> (<em>Iterable</em><em>[</em><em>float</em><em>]</em>) – The x-coordinates of the points that will be transformed to the coordinate system of the grid.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>grid_bbox</strong> (<em>Tuple[int]</em>) – The tuple of ints (left, bottom, width, height) of the bounding box of the points specified by
the x_image and y_image coordinates, in the coordinate system of the grid.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SearchGrid.SearchGrid.mask_grid_bbox">
<span class="sig-name descname"><span class="pre">mask_grid_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_box</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SearchGrid.html#SearchGrid.mask_grid_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SearchGrid.SearchGrid.mask_grid_bbox" title="Permalink to this definition"></a></dt>
<dd><p>Masks pixels falling within the SearchGrid bounding box, grid_box, given pixel
coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_image</strong> (<em>np.ndarray</em>) – An array of x-coordinates of pixels in the image.</p></li>
<li><p><strong>y_image</strong> (<em>np.ndarray</em>) – An array of x-coordinates of pixels in the image.</p></li>
<li><p><strong>grid_box</strong> (<em>tuple</em>) – The bounding box, specified in grid coordinates (left, bottom, width, height)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>in_box_mask</strong> (<em>np.ndarray</em>) – A Boolean array the same size of x_image and y_image, with True entries
corresponding to coordinates that fall within the bounding box (grid_box).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SpectraCollectionIndex">
<span id="spectracollectionindex-module"></span><h2>SpectraCollectionIndex module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SpectraCollectionIndex" title="Permalink to this heading"></a></h2>
<p>Contains the classes, SpectraCollectionIndex and SpectraCollectionIndexEntry, which handle the creation, loading, and
filtering of the index table of a DecontaminatedSpectraCollection file or a set of such files.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpectraCollectionIndexEntry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_row</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndexEntry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Contains the information corresponding to a single item in the SpectraCollectionIndex.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.dither">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dither</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.dither" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.detector">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detector</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.detector" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.j_mag">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">j_mag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.j_mag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.h_mag">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">h_mag</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.h_mag" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.bbox">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bbox</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.bbox" title="Permalink to this definition"></a></dt>
<dd><p>(left, bottom, width, height).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>A tuple of ints</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.x_offset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.x_offset" title="Permalink to this definition"></a></dt>
<dd><p>The horizontal pixel offset from the left edge of the detector.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.y_offset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">y_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.y_offset" title="Permalink to this definition"></a></dt>
<dd><p>The vertical pixel offset from the bottom of the detector.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.width" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.height">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.height" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.offset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndexEntry.offset" title="Permalink to this definition"></a></dt>
<dd><p>(x_offset, y_offset)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>A tuple of ints</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpectraCollectionIndex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdf5_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for efficiently indexing the spectra stored in a single
<cite>DecontaminatedSpectraCollection</cite> file so that the file can be
efficiently searched. The class can create an index from an HDF5
object and write the contents of the index to the file. It can also
load the contents of a previously-written index.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.TABLE_FORMAT">
<span class="sig-name descname"><span class="pre">TABLE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[('dither',</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.int32'&gt;),</span> <span class="pre">('detector',</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.int8'&gt;),</span> <span class="pre">('id',</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.int64'&gt;),</span> <span class="pre">('j_mag',</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.float16'&gt;),</span> <span class="pre">('h_mag',</span> <span class="pre">&lt;class</span> <span class="pre">'numpy.float16'&gt;),</span> <span class="pre">('bbox',</span> <span class="pre">'V8')]</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.TABLE_FORMAT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.INDEX_LABEL">
<span class="sig-name descname"><span class="pre">INDEX_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Index'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.INDEX_LABEL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.DECONTAMINATED_SPECTRA_LABEL">
<span class="sig-name descname"><span class="pre">DECONTAMINATED_SPECTRA_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Decontaminated</span> <span class="pre">Spectra'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.DECONTAMINATED_SPECTRA_LABEL" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.table">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">table</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.table" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.dithers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dithers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.dithers" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.ids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.get_detectors">
<span class="sig-name descname"><span class="pre">get_detectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndex.get_detectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.get_detectors" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.filter_by_dither">
<span class="sig-name descname"><span class="pre">filter_by_dither</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndex.filter_by_dither"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.filter_by_dither" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex" title="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpectraCollectionIndex</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.filter_by_detector">
<span class="sig-name descname"><span class="pre">filter_by_detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndex.filter_by_detector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.filter_by_detector" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex" title="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpectraCollectionIndex</span></code></a></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.filter_by_magnitude">
<span class="sig-name descname"><span class="pre">filter_by_magnitude</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndex.filter_by_magnitude"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.filter_by_magnitude" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.filter_by_size">
<span class="sig-name descname"><span class="pre">filter_by_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndex.filter_by_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.filter_by_size" title="Permalink to this definition"></a></dt>
<dd><p>Filters by the dimensions of the spectrum.</p>
<p>By default, the dimensions are measured with respect to the image (detector) coordinates, in which case the
width is the horizontal extent of the bounding box of the spectrum and the height is the vertical extent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_width</strong> (<em>int</em>) – The minimum extent of the spectra in the x-direction.</p></li>
<li><p><strong>max_width</strong> (<em>int</em>) – The maximum extent of the spectra in the x-direction.</p></li>
<li><p><strong>min_height</strong> (<em>int</em>) – The minimum extent of the spectra in the y-direction.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>max_height: int</dt><dd><p>The maximum extent of the spectra in the y-direction.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>filtered_index</strong> (<em>SpectraCollectionIndex</em>) – The filtered index (containing only the entries that passed through the filter).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.load_index_from_hdf5">
<span class="sig-name descname"><span class="pre">load_index_from_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdf5_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndex.load_index_from_hdf5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.load_index_from_hdf5" title="Permalink to this definition"></a></dt>
<dd><p>Loads the table data from the h5py File, if the table already exists in the file.
If the table has not been created yet, then use self.create_index() instead.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.add_index_to_hdf5">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_index_to_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdf5_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraCollectionIndex.html#SpectraCollectionIndex.add_index_to_hdf5"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraCollectionIndex.SpectraCollectionIndex.add_index_to_hdf5" title="Permalink to this definition"></a></dt>
<dd><p>Stores the index table to an h5py File.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SpectraDecontaminationMain">
<span id="spectradecontaminationmain-module"></span><h2>SpectraDecontaminationMain module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SpectraDecontaminationMain" title="Permalink to this heading"></a></h2>
<p>This module wraps SpectraDecontaminator, providing the command line interface.</p>
<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminationMain.defineSpecificProgramOptions">
<span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraDecontaminationMain.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminationMain.defineSpecificProgramOptions" title="Permalink to this definition"></a></dt>
<dd><p>Defines the (command line and configuration file) options specific to this task</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An  ArgumentParser.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminationMain.mainMethod">
<span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraDecontaminationMain.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminationMain.mainMethod" title="Permalink to this definition"></a></dt>
<dd><p>The task main method.</p>
<p>This method is the entry point to the program.
See the ElementsProgram documentation for more details.</p>
</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SpectraDecontaminator">
<span id="spectradecontaminator-module"></span><h2>SpectraDecontaminator module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SpectraDecontaminator" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpectraDecontaminator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">survey_exposures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relflux_flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutouts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'H'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit_mag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1000'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zeroth_order_mag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_order_mag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraDecontaminator.html#SpectraDecontaminator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Performs the spectral decontamination algorithm.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.DEFAULT_INI">
<span class="sig-name descname"><span class="pre">DEFAULT_INI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SIR_SpectraDecontamination.ini'</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.DEFAULT_INI" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decont_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passthrough</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_measuring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraDecontaminator.html#SpectraDecontaminator.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.run" title="Permalink to this definition"></a></dt>
<dd><p>Carries out the steps needed to decontaminate the first-order spectra of each object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detectors</strong> (<em>str</em>) – The detector(s) which will be decontaminated. These are specified as a string of the form ‘dither.detector’,
where the dither is one of <cite>(‘1’, ‘2’, ‘3’, ‘4’)</cite> and specifies the exposure in the dither sequence from
which to obtain 2-D spectra that will be decontaminated. The detector is one of (‘1’, ‘2’, ‘3’, …, ‘16’)
and indicates the detector within the specified exposure to decontaminate. If the string ‘*’ is provided,
then all detectors of all dithers will be decontaminated. If ‘<em>.1’ is provided, then detector 1 of all four
exposures (dithers 1, 2, 3, 4) will be decontaminated. Finally, if `’2.</em>’` is specified, then all detectors
of dither 2 will be decontaminated.</p></li>
<li><p><strong>decont_order</strong> (<em>int</em>) – The spectral order to decontaminate (should be 1 or 2)</p></li>
<li><p><strong>passthrough</strong> (<em>bool</em>) – If True, the decontamination will not actually be performed. Cutouts of the spectra will be created and
saved to the DecontaminatedSpectraCollection without modification. If False, the decontamination will proceed
as usual.</p></li>
<li><p><strong>skip_measuring</strong> (<em>bool</em>) – If True, then the model contaminants will only be based on the broadband photometry; no effort will be made
to measure the spectra.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection" title="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DecontaminatedSpectraCollection</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>DecontaminatedSpectraCollection instance containing the decontaminated spectra, flags, variance, and model</em></p></li>
<li><p><em>contaminants.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.run_part">
<span class="sig-name descname"><span class="pre">run_part</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dither</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_spectra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decont_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">passthrough</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_measuring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraDecontaminator.html#SpectraDecontaminator.run_part"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.run_part" title="Permalink to this definition"></a></dt>
<dd><p>Carries out the steps needed to decontaminate the first-order spectra of each object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dither</strong> (<em>int</em>) – The dither sequence number.</p></li>
<li><p><strong>detector</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span>) – The detector number (1-16).</p></li>
<li><p><strong>part</strong> (<em>int</em>) – The section of the spectra list to decontaminate. The spectra will be in groups of <cite>max_spectra</cite>.</p></li>
<li><p><strong>max_spectra</strong> (<em>int</em>) – The maximum number of spectra that will be stored in a single DecontaminatedSpectraCollection object. The
default value (zero) indicates that an unlimited number of spectra can be stored in the object.</p></li>
<li><p><strong>decont_order</strong> (<em>int</em>) – The spectral order to decontaminate (should be 1 or 2)</p></li>
<li><p><strong>passthrough</strong> (<em>bool</em>) – If True, the decontamination will not actually be performed. Cutouts of the spectra will be created and
saved to the DecontaminatedSpectraCollection without modification. If False, the decontamination will proceed
as usual.</p></li>
<li><p><strong>skip_measuring</strong> (<em>bool</em>) – If True, then the model contaminants will only be based on the broadband photometry; no effort will be made
to measure the spectra.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<a class="reference internal" href="#SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection" title="SIR_SpectraDecontamination.DecontaminatedSpectraCollection.DecontaminatedSpectraCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DecontaminatedSpectraCollection</span></code></a>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>decontaminated_spectra</strong> (<em>DecontaminatedSpectraCollection or None</em>)</p></li>
<li><p><em>A DecontaminatedSpectraCollection instance containing the decontaminated spectra, flags, variance, and model</em></p></li>
<li><p><em>contaminants. Returns None if the part does not exist.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.make_models">
<span class="sig-name descname"><span class="pre">make_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraDecontaminator.html#SpectraDecontaminator.make_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.make_models" title="Permalink to this definition"></a></dt>
<dd><p>Creates model spectra for each object in the specified detectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detectors</strong> (<em>str</em>) – The detector(s) for which model spectra will be created. These are specified as a string of the form
‘dither.detector’, as described in the documentation for the run() method.</p></li>
<li><p><strong>pixel_threshold</strong> (<em>float</em>) – The minimum pixel threshold. Models whose maximum pixel value is lower than this threshold will be ignored.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><a class="reference internal" href="#SIR_SpectraDecontamination.NestedDict.NestedDict" title="SIR_SpectraDecontamination.NestedDict.NestedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">NestedDict</span></code></a></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><em>A NestedDict instance containing the models of spectra falling on the specified detectors.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.get_contaminant_mag_parameters">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_contaminant_mag_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraDecontaminator.html#SpectraDecontaminator.get_contaminant_mag_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.get_contaminant_mag_parameters" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.parse_detectors">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_detectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detector_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectraDecontaminator.html#SpectraDecontaminator.parse_detectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectraDecontaminator.SpectraDecontaminator.parse_detectors" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SpectrumContainer">
<span id="spectrumcontainer-module"></span><h2>SpectrumContainer module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SpectrumContainer" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpectrumContainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5object</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumContainer.html#SpectrumContainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.id" title="Permalink to this definition"></a></dt>
<dd><p>The ID of the object, as a string.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.dither">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dither</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.dither" title="Permalink to this definition"></a></dt>
<dd><p>The dither sequence number as an integer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.detector">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detector</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.detector" title="Permalink to this definition"></a></dt>
<dd><p>The detector number, as an integer (1 - 16)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.x_offset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">x_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.x_offset" title="Permalink to this definition"></a></dt>
<dd><p>The x-coordinate of the lower-left pixel of the spectral cutout [int].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.y_offset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">y_offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.y_offset" title="Permalink to this definition"></a></dt>
<dd><p>The y-coordinate of the lower-left pixel of the spectral cutout [int].</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.offset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">offset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumContainer.SpectrumContainer.offset" title="Permalink to this definition"></a></dt>
<dd><p>(x_offset, y_offset)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>The offset as a tuple</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SpectrumCutout">
<span id="spectrumcutout-module"></span><h2>SpectrumCutout module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SpectrumCutout" title="Permalink to this heading"></a></h2>
<p>Contains the <cite>SpectrumCutout</cite> class which is used for passing data from the <cite>SpectraDecontaminator</cite> class to the
<cite>DecontaminatedSpectraCollection</cite> object.</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpectrumCutout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumCutout.html#SpectrumCutout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stores all layers and metadata for a single decontaminated spectrum.</p>
<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.free_memory">
<span class="sig-name descname"><span class="pre">free_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumCutout.html#SpectrumCutout.free_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.free_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.spec_info">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spec_info</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.spec_info" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.has_contaminants">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_contaminants</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.has_contaminants" title="Permalink to this definition"></a></dt>
<dd><p>Returns true if this object is contaminated at all.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.is_decontaminated">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_decontaminated</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.is_decontaminated" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if the object has been decontaminated.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.original_spectrum">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">original_spectrum</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.original_spectrum" title="Permalink to this definition"></a></dt>
<dd><p>Gets the original, unmodified NispDetectorExposure cutout.</p>
<p>Note that the NispDetectorExposure cutout is only created at this point, when the data is being requested.
Thus, the cropping procedure is performed lazily. This reduces memory utilization and computation time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>cropped</strong> – A cropped NispDetectorExposure object, containing only the relevant region of the larger NISP detector.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>NispDetectorExposure</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.science">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">science</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.science" title="Permalink to this definition"></a></dt>
<dd><p>Gets the updated (decontaminated) science layer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.variance">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">variance</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.variance" title="Permalink to this definition"></a></dt>
<dd><p>Gets the updated variance layer (i.e.,  the variance of the decontaminated spectrum)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.flags">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">flags</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.flags" title="Permalink to this definition"></a></dt>
<dd><p>Gets the updated mask layer (with decontamination flags added).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.contaminants">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">contaminants</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.contaminants" title="Permalink to this definition"></a></dt>
<dd><p>Gets a list of spectra that overlap with this spectrum (i.e., the spectra that potentially contaminate this
spectrum).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List of SpectrumInfo objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.clear_original_spectrum">
<span class="sig-name descname"><span class="pre">clear_original_spectrum</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumCutout.html#SpectrumCutout.clear_original_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumCutout.SpectrumCutout.clear_original_spectrum" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SpectrumInfo">
<span id="spectruminfo-module"></span><h2>SpectrumInfo module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SpectrumInfo" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpectrumInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">astro_object_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spectrum_location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grism_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumInfo.html#SpectrumInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stores information about an instance of a 2D spectral order on a specific detector.</p>
<p>This class handles all information regarding a single 2D spectral segment. For example,
all information about the first-order spectrum of object A in detector 3 of dither 2 could
be stored in this class. Several SpectrumInfo objects can be associated with a single
star or galaxy. So, multiple SpectrumInfo objects can share a single AstroObjectInfo object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.get_offset">
<span class="sig-name descname"><span class="pre">get_offset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumInfo.html#SpectrumInfo.get_offset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.get_offset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.make_2d_model">
<span class="sig-name descname"><span class="pre">make_2d_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumInfo.html#SpectrumInfo.make_2d_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.make_2d_model" title="Permalink to this definition"></a></dt>
<dd><p>Creates the 2-D model of the spectrum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wavelengths</strong> (<em>NumPy 1-D array</em><em> of </em><em>floats</em><em> or </em><em>None</em>) – The wavelengths corresponding to the flux values in the one dimensional spectrum of the object
(in <cite>self.astro_object_info.one_dimensional_spec</cite>). If None: use the default wavelengths.</p>
</dd>
</dl>
<p class="rubric">Side Effects</p>
<p>Sets the <cite>model_spec</cite> property.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – if the wavelengths have not been specified directly or indirectly.:</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.get_trace_position">
<span class="sig-name descname"><span class="pre">get_trace_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumInfo.html#SpectrumInfo.get_trace_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.get_trace_position" title="Permalink to this definition"></a></dt>
<dd><p>Computes the position of the center of the spectrum at the specified wavelength.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>wavelength</strong> (<em>float</em>) – The wavelength in question, in units of Angstroms.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>position</strong> (<em>tuple</em>) – returns (float x, float y) specifying the x and y coordinates of the center of the spectrum at the specified
wavelength, with sub-pixel precision.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.clear_convolution_kernel">
<span class="sig-name descname"><span class="pre">clear_convolution_kernel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumInfo.html#SpectrumInfo.clear_convolution_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.clear_convolution_kernel" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.free_memory">
<span class="sig-name descname"><span class="pre">free_memory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumInfo.html#SpectrumInfo.free_memory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.free_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.astro_object_info">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">astro_object_info</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.astro_object_info" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.order">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">order</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.order" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.detector">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detector</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.detector" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.detector_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detector_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.detector_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.dither">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dither</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.dither" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.observation_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">observation_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.observation_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.field_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">field_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.field_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.pointing_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pointing_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.pointing_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.grism_position">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grism_position</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.grism_position" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.object_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">object_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.object_id" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.nisp_detector_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nisp_detector_data</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.nisp_detector_data" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.one_dim_spectrum">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one_dim_spectrum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.one_dim_spectrum" title="Permalink to this definition"></a></dt>
<dd><p>Returns the sum of continuum model and the emission line model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.one_dim_wavelengths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">one_dim_wavelengths</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.one_dim_wavelengths" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.convolution_kernel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convolution_kernel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel" title="SIR_SpectraDecontamination.ConvolutionKernel.ConvolutionKernel"><span class="pre">ConvolutionKernel</span></a></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.convolution_kernel" title="Permalink to this definition"></a></dt>
<dd><p>Returns the ConvolutionKernel object associated with this spectrum.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.create_convolution_kernel">
<span class="sig-name descname"><span class="pre">create_convolution_kernel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumInfo.html#SpectrumInfo.create_convolution_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.create_convolution_kernel" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.const_kernel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">const_kernel</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.const_kernel" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.gaussian_sigma_major">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_sigma_major</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.gaussian_sigma_major" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.gaussian_sigma_minor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_sigma_minor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.gaussian_sigma_minor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.gaussian_theta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gaussian_theta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.gaussian_theta" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.spectrum_cutout">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spectrum_cutout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.spectrum_cutout" title="Permalink to this definition"></a></dt>
<dd><p>The 2D spectral cutout data (i.e., the pixel data) wrapped by this object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.model_spec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model_spec</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum" title="SIR_SpectraDecontamination.ModelSpectrum.ModelSpectrum"><span class="pre">ModelSpectrum</span></a></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.model_spec" title="Permalink to this definition"></a></dt>
<dd><p>The 2-D model of this spectrum.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.location_spectrum">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">location_spectrum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">LocationSpectrum</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.location_spectrum" title="Permalink to this definition"></a></dt>
<dd><p>The corresponding LocationSpectrum object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.boundary">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">boundary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ndarray</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.boundary" title="Permalink to this definition"></a></dt>
<dd><p>The x and y coordinates of a set of points describing the boundary of the spectrum, in the format:</p>
<dl>
<dt>array([[x0, y0],</dt><dd><p>x1, y1],
x2, y2],</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p>xN, yN]])</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.zeroth_order_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">zeroth_order_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.zeroth_order_size" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.relflux_correction">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relflux_correction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.relflux_correction" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.bbox">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bbox</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.bbox" title="Permalink to this definition"></a></dt>
<dd><p>A tuple of (left, bottom, width, height), specifying the coordinates of the lower-left corner, width, and
height of the spectrum’s bounding box in the pixel coordinates of the detector. The coordinates and dimensions
are provided as integer values so that this bounding box can be used as a crop box.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.searchgrid_bbox">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">searchgrid_bbox</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.searchgrid_bbox" title="Permalink to this definition"></a></dt>
<dd><p>A tuple of integers (left, bottom, width, height), specifying the coordinates of the lower-left corner, width,
and height of the spectrum’s bounding box in the pixel coordinates of a SearchGrid.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.padding">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">padding</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.padding" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.area">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">area</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.area" title="Permalink to this definition"></a></dt>
<dd><p>The pixel area of the cutout</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.grism_model">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grism_model</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo.grism_model" title="Permalink to this definition"></a></dt>
<dd><p>The <cite>DetectorGrism.DetectorGrism</cite> object associated with this spectrum.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SpectrumMeasurer">
<span id="spectrummeasurer-module"></span><h2>SpectrumMeasurer module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SpectrumMeasurer" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumMeasurer.SpectrumMeasurer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpectrumMeasurer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum_modeller</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumMeasurer.html#SpectrumMeasurer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumMeasurer.SpectrumMeasurer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Measures 1-D spectra from 2-D spectra, potentially by combining data from multiple dithers.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumMeasurer.SpectrumMeasurer.WAVELENGTH_BIN_SIZE">
<span class="sig-name descname"><span class="pre">WAVELENGTH_BIN_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1500</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumMeasurer.SpectrumMeasurer.WAVELENGTH_BIN_SIZE" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumMeasurer.SpectrumMeasurer.measure_spectra">
<span class="sig-name descname"><span class="pre">measure_spectra</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumMeasurer.html#SpectrumMeasurer.measure_spectra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumMeasurer.SpectrumMeasurer.measure_spectra" title="Permalink to this definition"></a></dt>
<dd><p>Measures all of the spectra associated with the object_info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>object_info</strong> (<a class="reference internal" href="#SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo" title="SIR_SpectraDecontamination.AstroObjectInfo.AstroObjectInfo"><em>AstroObjectInfo</em></a>) – The AstroObjectInfo containing all information about the star or galaxy of interest.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <a class="reference internal" href="#SIR_SpectraDecontamination.LineModeller.LineModeller" title="SIR_SpectraDecontamination.LineModeller.LineModeller"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineModeller</span></code></a>]]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul>
<li></li>
<li><p><strong>measurements</strong> (<em>tuple or None</em>) – Returns None if no measurements could be made. Otherwise, returns a tuple of
(continuum_flux, emission_lines), where:</p>
<dl class="simple">
<dt>continuum_flux: np.ndarray</dt><dd><p>A 1-D array of the fluxes at the specified wavelengths, representing the smooth continuum of
the spectrum.</p>
</dd>
<dt>emission_lines: LineModeller or None</dt><dd><p>A LineModeller instance describing any lines that were detected in the spectrum. If no lines were
found, then None.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.SpectrumModeller">
<span id="spectrummodeller-module"></span><h2>SpectrumModeller module<a class="headerlink" href="#module-SIR_SpectraDecontamination.SpectrumModeller" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpectrumModeller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">photo_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detector_grisms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_grids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumModeller.html#SpectrumModeller"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Constructs one-dimensional and two-dimensional spectral models.</p>
<p>Given information about the grisms and detectors (via <cite>GrismDetector</cite> objects for each dither), positions of objects
and contaminants (via <cite>SearchGrid</cite> objects), and information about a particular physical object (via an
<cite>AstroObjectInfo</cite> object), this class constructs the one-dimensional and two-dimensional spectra of an object, with
the help of the <cite>SpectrumMeasurer</cite> class, which performs the low-level measurements of spectral segments.</p>
<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.lambdas">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lambdas</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.lambdas" title="Permalink to this definition"></a></dt>
<dd><p>Wavelengths used by all 1D model spectra (Angstroms).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.grisms">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grisms</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.grisms" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.search_grids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">search_grids</span></span><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.search_grids" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.padding">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">padding</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.padding" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.get_2d_model_spectrum">
<span class="sig-name descname"><span class="pre">get_2d_model_spectrum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spectrum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_measuring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumModeller.html#SpectrumModeller.get_2d_model_spectrum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.get_2d_model_spectrum" title="Permalink to this definition"></a></dt>
<dd><p>Returns a 2D model of the specified spectrum. If the model has already been computed, then the
previously-computed result is returned. If the model has not been computed, then it is computed and
then returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spectrum</strong> (<a class="reference internal" href="#SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo" title="SIR_SpectraDecontamination.SpectrumInfo.SpectrumInfo"><em>SpectrumInfo</em></a>) – A SpectrumInfo object describing the 2-D spectrum.</p></li>
<li><p><strong>skip_measuring</strong> (<em>bool</em>) – If set to True, the model will be based solely on the lower and upper band magnitudes; the process of
attempting to measure the spectrum will be skipped.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type">ModelSpectrum</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>model_spec</strong> (<em>ModelSpectrum.ModelSpectrum or None</em>) – The modelled 2-D spectrum of the contaminant. If this is a zeroth-order spectrum, None is returned
because we do not model zeroth-order spectra; we only flag their positions. Also returns None if the
magnitudes are missing / invalid.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Side Effects</p>
<p>Potentially modifies the input parameter,`spectrum`. If the <cite>spectrum</cite> has already been modelled, then no
modifications are made.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.set_relflux">
<span class="sig-name descname"><span class="pre">set_relflux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relflux_flat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumModeller.html#SpectrumModeller.set_relflux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.set_relflux" title="Permalink to this definition"></a></dt>
<dd><p>Set the relative flux correction flat FITS file object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.power_law_interp">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">power_law_interp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">known_wavelengths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">known_fluxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp_wavelengths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">known_flux_uncertainties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/SpectrumModeller.html#SpectrumModeller.power_law_interp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.SpectrumModeller.SpectrumModeller.power_law_interp" title="Permalink to this definition"></a></dt>
<dd><p>Interpolates the known values, at the points given by <cite>known_wavelengths</cite>, assuming that the data follows a
piecewise power-law. Extrapolates beyond the known_wavelengths range so that fluxes are computed for all
values of interp_wavelengths are computed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>known_wavelengths</strong> (<em>1-D NumPy array</em>) – Wavelength values associated with known flux values in <cite>known_fluxes</cite>.</p></li>
<li><p><strong>known_fluxes</strong> (<em>1-D NumPy array</em>) – The known flux values, at the corresponding <cite>known_wavelengths</cite>.</p></li>
<li><p><strong>interp_wavelengths</strong> (<em>1-D NumPy array</em>) – Independent values for which you want to compute the interpolated or extrapolated
flux values.</p></li>
<li><p><strong>known_flux_uncertainties</strong> (<em>1-D NumPy array</em><em> or </em><em>None</em>) – The uncertainties of the flux values in <cite>known_fluxes</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>y_interp</strong> (<em>NumPy ndarray or None</em>)</p></li>
<li><p>The interpolated values of the flux at the wavelengths specified by the <cite>interp_wavelengths</cite> input array.</p></li>
<li><p><em>If the data being interpolated consisted of zeros or there were not at least 2 data points in the interior</em></p></li>
<li><p><em>of the region.</em></p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – Raised if there are fewer than 2 data points in the input arrays or any of the wavelengths are negative.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination.Utils">
<span id="utils-module"></span><h2>Utils module<a class="headerlink" href="#module-SIR_SpectraDecontamination.Utils" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.div0">
<span class="sig-name descname"><span class="pre">div0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#div0"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.div0" title="Permalink to this definition"></a></dt>
<dd><p>Computes a / b, ignoring division by zero: div0( [-1, 0, 1], 0 ) -&gt; [0, 0, 0]</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.represents_int">
<span class="sig-name descname"><span class="pre">represents_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#represents_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.represents_int" title="Permalink to this definition"></a></dt>
<dd><p>Tests whether or not a value represents an integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>variable</strong> (<em>any</em>) – The variable that will be tested.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>result</strong> (<em>Bool</em>)</p></li>
<li><p><em>Returns True if the argument can be converted to an integer in a straightforward way, using int(). Otherwise returns</em></p></li>
<li><p>False. For example, if <cite>variable</cite> is a string ‘123’ or an integer 123, then the function will return True. If the</p></li>
<li><p><cite>variable</cite> is ‘124.6’, 24.6, ‘abc’ or [1, 2 ,3], then the function will return False.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.verify_2d_numpy_array">
<span class="sig-name descname"><span class="pre">verify_2d_numpy_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#verify_2d_numpy_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.verify_2d_numpy_array" title="Permalink to this definition"></a></dt>
<dd><p>Checks whether the argument, <cite>arg</cite>, is a 2-dimensional NumPy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> (<em>any</em>) – The object whose type is being inspected</p></li>
<li><p><strong>dtype</strong> (<em>type</em><em> or </em><em>None</em>) – The expected data type of the array</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – if <cite>arg</cite> is not a 2-dimensional NumPy array OR if the datatype of the array does not match the specified:</p></li>
<li><p><strong>dtype.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.mag_to_fnu">
<span class="sig-name descname"><span class="pre">mag_to_fnu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#mag_to_fnu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.mag_to_fnu" title="Permalink to this definition"></a></dt>
<dd><p>Convert from magnitude and zero-point to F_nu.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mag</strong> (<em>float</em><em> or </em><em>NumPy array</em><em> of </em><em>floats</em>) – An AB magnitude.</p></li>
<li><p><strong>zero_point</strong> (<em>float</em><em> or </em><em>NumPy array</em><em> of </em><em>floats</em>) – The zero point used for converting the magnitude to the desired flux unit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>The flux, as F_nu, in the physical unit that corresponds with the zero-point value provided.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.abmag_to_ujy">
<span class="sig-name descname"><span class="pre">abmag_to_ujy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">abmag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#abmag_to_ujy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.abmag_to_ujy" title="Permalink to this definition"></a></dt>
<dd><p>Converts from AB magnitude to microJanskys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>abmag</strong> (<em>float</em><em> or </em><em>NumPy array</em><em> of </em><em>floats</em>) – The AB magnitude(s) to convert.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>flux</strong> (<em>float or NumPty array of floats</em>) – F_nu in units of microJanskys</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.angstrom_to_ujy">
<span class="sig-name descname"><span class="pre">angstrom_to_ujy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flux</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#angstrom_to_ujy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.angstrom_to_ujy" title="Permalink to this definition"></a></dt>
<dd><p>Convert a flux value, from erg/s/cm^2/AA, at specified wavelength, to microJanskys</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flux</strong> (<em>float</em><em> or </em><em>NumPy array</em><em> of </em><em>floats</em>) – Flux(es) in units of erg/s/cm^2/AA.</p></li>
<li><p><strong>wavelength</strong> (<em>float</em><em> or </em><em>NumPy array</em><em> of </em><em>floats</em>) – The wavelength(s) in units of Angstroms.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>flux_in_jansky</strong> (<em>flux in units of microJanskys.</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.ujy_to_angstrom">
<span class="sig-name descname"><span class="pre">ujy_to_angstrom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flux</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelength</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#ujy_to_angstrom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.ujy_to_angstrom" title="Permalink to this definition"></a></dt>
<dd><p>Converts a flux value from microJanskys, at specified wavelength, to erg/s/cm^2/AA</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flux</strong> (<em>float</em><em> or </em><em>NumPy array</em>) – a flux (or fluxes if a NumPy array is provided) in units of microJanskys.</p></li>
<li><p><strong>wavelength</strong> (<em>float</em><em> or </em><em>NumPy array</em>) – The wavelength value(s) in units of Angstroms.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>flux</strong> (<em>float or NumPy array [The larger of type(flux), type(wavelength)]</em>)</p></li>
<li><p><em>The flux in units of erg/s/cm^2/AA.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.weighted_mean">
<span class="sig-name descname"><span class="pre">weighted_mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#weighted_mean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.weighted_mean" title="Permalink to this definition"></a></dt>
<dd><p>Computes the weighted mean of a quantity that is a function of wavelength.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quantity</strong> (<em>np.ndarray</em>) – 1D NumPy array containing samples of the quantity that is being averaged.</p></li>
<li><p><strong>weights</strong> (<em>np.ndarray</em>) – 1D NumPy array of weights corresponding to the samples.</p></li>
<li><p><strong>wavelengths</strong> (<em>np.ndarray</em>) – 1D NumPy array of wavelengths corresponding to the samples.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>weighted_mean</strong> (<em>float</em>)</p></li>
<li><p><em>The weighted mean of the quantity.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.weighted_std">
<span class="sig-name descname"><span class="pre">weighted_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#weighted_std"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.weighted_std" title="Permalink to this definition"></a></dt>
<dd><p>The weighted standard deviation of a quantity that is a function of wavelength.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quantity</strong> (<em>np.ndarray</em>) – 1D NumPy array containing samples of the quantity that is being averaged.</p></li>
<li><p><strong>weights</strong> (<em>np.ndarray</em>) – 1D NumPy array of weights corresponding to the samples.</p></li>
<li><p><strong>wavelengths</strong> (<em>np.ndarray</em>) – 1D NumPy array of wavelengths corresponding to the samples.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>weighted_std</strong> (<em>float</em>)</p></li>
<li><p><em>The weighted standard deviation of the quantity.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.effective_wavelength">
<span class="sig-name descname"><span class="pre">effective_wavelength</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#effective_wavelength"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.effective_wavelength" title="Permalink to this definition"></a></dt>
<dd><p>Computes the effective wavelength of a filter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weights</strong> (<em>NumPy array</em>) – The weights of the wavelengths. For example, the transmission of a filter.</p></li>
<li><p><strong>wavs</strong> (<em>NumPy array</em>) – The wavelengths corresponding to the transmission values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>wavelength</strong> (<em>float</em>)</p></li>
<li><p><em>The weighted average wavelength of the filter (the effective wavelength).</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.interp_multiply">
<span class="sig-name descname"><span class="pre">interp_multiply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#interp_multiply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.interp_multiply" title="Permalink to this definition"></a></dt>
<dd><p>Multiplies two 1D functions, sampled at the specified locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w1</strong> (<em>NumPy array</em>) – wavelength values of data1</p></li>
<li><p><strong>data1</strong> (<em>NumPy array</em>) – values of the first array</p></li>
<li><p><strong>w2</strong> (<em>NumPy array</em>) – wavelength values of data2</p></li>
<li><p><strong>data2</strong> (<em>NumPy array</em>) – values of the second array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>product</strong> (<em>NumPy array</em>)</p></li>
<li><p><em>The vector data1 * data2 after interpolating data2 to the same wavelength</em></p></li>
<li><p><em>bins as data1. The relevant wavelengths of the output vector are the wavelengths</em></p></li>
<li><p><em>of the first vector (w1).</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.convolve_filter">
<span class="sig-name descname"><span class="pre">convolve_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wavelengths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_wavs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_transmissions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#convolve_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.convolve_filter" title="Permalink to this definition"></a></dt>
<dd><p>Integrates a filter_transmission profile against a spectrum to obtain the flux of the bandpass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wavelengths</strong> (<em>1D NumPy array</em>) – wavelenghts of the spectrum</p></li>
<li><p><strong>fluxes</strong> (<em>1D NumPy array</em>) – the flux densities of the spectrum</p></li>
<li><p><strong>filter_wavs</strong> (<em>1D NumPy array</em>) – The wavelengths of the filter profile values</p></li>
<li><p><strong>filter_transmissions</strong> (<em>1D NumPy array</em>) – The transmission fractions corresponding to the filter_wavs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>The flux at the filter’s effective wavelength.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.smooth_signal">
<span class="sig-name descname"><span class="pre">smooth_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_width</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#smooth_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.smooth_signal" title="Permalink to this definition"></a></dt>
<dd><p>Smoothes a signal by computing the moving average in a region of width equal to <cite>window_width</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> (<em>1D NumPy array</em>) – The signal to be smoothed</p></li>
<li><p><strong>window_width</strong> – The window size in which the signal will be smoothed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>smoothed_signal</strong> (<em>1D NumPy array</em>)</p></li>
<li><p><em>The</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.cdf">
<span class="sig-name descname"><span class="pre">cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#cdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.cdf" title="Permalink to this definition"></a></dt>
<dd><p>The Gaussian cumulative distribution function.</p>
<p>Computes the integral of the Gaussian distribution centered at mu and with sigma, from negative infinity to x</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>mu</strong> – </p></li>
<li><p><strong>sigma</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>The integral of the Gaussian distribution from negative infinity to x.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.prob_in_range">
<span class="sig-name descname"><span class="pre">prob_in_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#prob_in_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.prob_in_range" title="Permalink to this definition"></a></dt>
<dd><p>Computes the probability between x = lower and x = upper of the Gaussian, centered at x = mu.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower</strong> (<em>float</em>) – The lower limit of the integral.</p></li>
<li><p><strong>upper</strong> (<em>float</em>) – The upper limit of the integral</p></li>
<li><p><strong>mu</strong> (<em>float</em>) – The mean (central) position of the Gaussian distribution</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – The standard deviation of the Gaussian distribution</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>The integral of the Gaussian distribution between x = lower to x = upper.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.gauss_kernel">
<span class="sig-name descname"><span class="pre">gauss_kernel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">canvas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#gauss_kernel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.gauss_kernel" title="Permalink to this definition"></a></dt>
<dd><p>Computes a 2D Gaussian, centered at <cite>center</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>canvas</strong> (<em>NumPy.ndarray</em>) – A square 2D NumPy array in which the 2D Gaussian kernel will be painted.</p></li>
<li><p><strong>center</strong> (<em>tuple</em><em>,</em>) – The pixel coordinates (x, y) of the center of the kernel.</p></li>
<li><p><strong>sigma</strong> (<em>tuple</em>) – The axes of the resulting elliptical Gaussian kernel, (major, minor).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>A 2D NumPy array containing the Gaussian Kernel centered at the specified position.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.rebin3">
<span class="sig-name descname"><span class="pre">rebin3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#rebin3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.rebin3" title="Permalink to this definition"></a></dt>
<dd><p>Reduces the resolution of an image by a factor of 3.</p>
<p>Each pixel in the output image is the sum of 3 x 3 pixels
in the input image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>np.ndarray</em>) – The input image</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>rebinned</strong> (<em>np.ndarray</em>) – An image in which each pixel is the sum of 3 x 3 pixels in
the input image</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.bilinear_shift">
<span class="sig-name descname"><span class="pre">bilinear_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_vector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#bilinear_shift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.bilinear_shift" title="Permalink to this definition"></a></dt>
<dd><p>Shifts a 2D image by the specified shift vector using bilinear interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>np.ndarray</em>) – A 2D NumPy array that will be shifted.</p></li>
<li><p><strong>shift_vector</strong> (<em>tuple</em>) – A tuple of (y_shift, x_shift) specifying how much the image will be shifted in
the y and x directions.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>shifted</strong> (<em>np.ndarray</em>) – A 2D NumPy array with the same dimensions as the input image, but with the
contents shifted by the specified amount.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.shift_horizontal">
<span class="sig-name descname"><span class="pre">shift_horizontal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_shift</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#shift_horizontal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.shift_horizontal" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.shift">
<span class="sig-name descname"><span class="pre">shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shift_vector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#shift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.shift" title="Permalink to this definition"></a></dt>
<dd><p>Shifts a 2D image by the specified shift vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>np.ndarray</em>) – A 2D NumPy array that will be shifted.</p></li>
<li><p><strong>shift_vector</strong> (<em>tuple</em>) – A tuple of (y_shift, x_shift) specifying how much the image will be shifted in
the y and x directions.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>shifted</strong> (<em>np.ndarray</em>) – A 2D NumPy array with the same dimensions as the input image, but with the
contents shifted by the specified amount.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.convolve2d">
<span class="sig-name descname"><span class="pre">convolve2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#convolve2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.convolve2d" title="Permalink to this definition"></a></dt>
<dd><p>Convolves a stamp image with a convolution kernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stamp</strong> (<em>np.ndarray</em>) – The (2D) image array to be convolved.</p></li>
<li><p><strong>kernel</strong> (<em>np.ndarray</em>) – The (2D) convolution kernel.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>convolved</strong> (<em>np.ndarray</em>) – A NumPy array the same shape as the input stamp image, convolved with the kernel.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.max_peak">
<span class="sig-name descname"><span class="pre">max_peak</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#max_peak"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.max_peak" title="Permalink to this definition"></a></dt>
<dd><p>Computes the maximum pixel value of a normalized 2-D Gaussian kernel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sigma</strong> (<em>float</em>) – The standard deviation of a normalized 1-D Gaussian distribution, in units of pixels.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>maximum_pixel_value</strong> (<em>float</em>)</p></li>
<li><p><em>The maximum pixel value of a normalized 2-D Gaussian patch with the specified sigma.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.bounding_indices">
<span class="sig-name descname"><span class="pre">bounding_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">box1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#bounding_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.bounding_indices" title="Permalink to this definition"></a></dt>
<dd><p>Computes the bounding indices of the region of overlap of two boxes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>box1</strong> – A tuple of (left, bottom, width, height)</p></li>
<li><p><strong>box2</strong> – A tuple of (left, bottom, width, height)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>bounding_indices_1, bounding_indices_2</strong> (<em>two tuples</em>) – (left1, bottom1, right1, top1), (left2, bottom2, right2, top2) which are the bounding indices
of the area of overlap in the coordinate system of box1 and the coordinate system of box2, respectively.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.apply_overlay">
<span class="sig-name descname"><span class="pre">apply_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overlay</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canvas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#apply_overlay"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.apply_overlay" title="Permalink to this definition"></a></dt>
<dd><p>Applies the <cite>overlay</cite> values to a <cite>canvas</cite> by applying the specified <cite>operation</cite> in the region in which the overlay
intersects the canvas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>overlay</strong> (<em>tuple</em>) – (offset, 2D array), where the offset is a tuple of (left, bottom) specifying the position of the lower-left
pixel of the array within the detector and the 2D array contains the data which will be applied to the canvas,
using the specified operation.</p></li>
<li><p><strong>canvas</strong> (<em>tuple</em>) – (offset, 2D array), where the offset is a tuple of (left, bottom) specifying the position of the lower-left
pixel of the array within the detector and the 2D array contains the data which will be updated by this
procedure.</p></li>
<li><p><strong>operation</strong> (<em>function</em>) – A function accepting two NumPy ndarray objects of the same shape and returning a third ndarray of the same
shape as its input arguments. For example, numpy.add, numpy.fmax, numpy.fmin, numpy.subtract, numpy.multiply.
Note that using non-commutative operations could yield unexpected results. The function is called with the
<cite>canvas</cite> as its first argument and <cite>overlay</cite> as the second argument.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Side Effects</p>
<p>Modifies the <cite>canvas</cite> by replacing elements in the intersection area with the result of the specified <cite>operation</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.mask_in_bounding_box">
<span class="sig-name descname"><span class="pre">mask_in_bounding_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#mask_in_bounding_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.mask_in_bounding_box" title="Permalink to this definition"></a></dt>
<dd><p>Identifies which points with the specified x and y values lie within the bounding box</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em><em> of </em><em>floats</em>) – x-coordinates of points to be tested.</p></li>
<li><p><strong>y</strong> (<em>np.ndarray</em><em> of </em><em>floats</em>) – y-coordinates of points to be tested.</p></li>
<li><p><strong>bbox</strong> (<em>tuple</em><em> of </em><em>ints</em>) – The tuple, (left, bottom, width, height)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>inside_bbox</strong> (<em>np.ndarray of Bools</em>)</p></li>
<li><p><em>True if the corresponding point is inside of the bbox, else False.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.grid_coords_in_bbox">
<span class="sig-name descname"><span class="pre">grid_coords_in_bbox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#grid_coords_in_bbox"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.grid_coords_in_bbox" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.set_flag">
<span class="sig-name descname"><span class="pre">set_flag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canvas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#set_flag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.set_flag" title="Permalink to this definition"></a></dt>
<dd><p>Sets the specified <cite>flag</cite> value in the <cite>canvas</cite>, in locations specified by the <cite>mask</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> (<em>tuple</em>) – A tuple (offset, 2D array of bools), where the offset is a tuple of (left, bottom) specifying the
position of the lower-left pixel of the mask array within a larger image (such as a detector image)
The values of the 2D array should be boolean, with True indicating locations in which the flag will
be set.</p></li>
<li><p><strong>canvas</strong> (<em>tuple</em>) – A tuple (offset, 2D array of unsigned ints), where the offset is a tuple of (left, bottom) specifying the
position of the lower-left pixel of the canvas array within a larger image (such as a detector image)
The values of the 2D array should be unsigned integers</p></li>
<li><p><strong>flag</strong> (<em>unsigned int</em>) – The flag value to set at the appropriate locations within the canvas</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Side Effects</p>
<p>Modifies the 2-D array within the <cite>canvas</cite> by performing a bitwise OR operation <cite>canvas |= flag</cite> in locations for
which the shifted <cite>mask</cite> is True.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.normalize_image">
<span class="sig-name descname"><span class="pre">normalize_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#normalize_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.normalize_image" title="Permalink to this definition"></a></dt>
<dd><p>Clips and normalizes an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>NumPy.ndarray</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>normalized_stamp</strong> (<em>NumPy.ndarray or None</em>)</p></li>
<li><p><em>A normalized version of the input image with all negative values clipped to zero, None if the</em></p></li>
<li><p><em>pixels are all zero or nearly zero. The image is normalized such that the sum of all pixels is 1.0.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.normalize_image_fast">
<span class="sig-name descname"><span class="pre">normalize_image_fast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#normalize_image_fast"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.normalize_image_fast" title="Permalink to this definition"></a></dt>
<dd><p>Normalizes an image that has already been clipped.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>NumPy.ndarray</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>normalized_stamp</strong> (<em>NumPy.ndarray or None</em>)</p></li>
<li><p><em>A normalized version of the input image, None if the pixels are all zero or negative. The image is</em></p></li>
<li><p><em>normalized such that the sum of all pixels is 1.0.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.atan">
<span class="sig-name descname"><span class="pre">atan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#atan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.atan" title="Permalink to this definition"></a></dt>
<dd><p>Computes the direction angle specified by the x and y coordinates of a vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y</strong> (<em>float</em>) – The y-component of the vector</p></li>
<li><p><strong>x</strong> (<em>float</em>) – The x-component of the vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>angle</strong> (<em>float</em>)</p></li>
<li><p><em>The positive direction angle of the vector, in degrees [0, 360).</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.gaussian_moments">
<span class="sig-name descname"><span class="pre">gaussian_moments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#gaussian_moments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.gaussian_moments" title="Permalink to this definition"></a></dt>
<dd><p>Computes the mean and standard deviation of a 1-D data array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>np.ndarray</em>) – A 1-D array</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>moments</strong> (<em>tuple</em>) – A tuple of (mean, sigma)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.gaussian_centroid">
<span class="sig-name descname"><span class="pre">gaussian_centroid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#gaussian_centroid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.gaussian_centroid" title="Permalink to this definition"></a></dt>
<dd><p>Computes the coordinates of the centroid of the image by fitting Gaussian profiles in x and y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image</strong> (<em>NumPy.ndarray</em>) – A 2-D array of pixels.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]</span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>centroid</strong> (<em>tuple</em>)</p></li>
<li><p><em>A tuple of (x_center, y_center).</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.interpolate_2d_grid">
<span class="sig-name descname"><span class="pre">interpolate_2d_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">known_values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#interpolate_2d_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.interpolate_2d_grid" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<em>int</em>) – The width (horizontal extent) of the 2D output grid of interpolated values.</p></li>
<li><p><strong>height</strong> (<em>int</em>) – The height (vertical extent) of the 2D output grid of interpolated values.</p></li>
<li><p><strong>known_values</strong> (<em>N x 3 NumPy array</em>) – <dl>
<dt>The array of known values in the format: [(x_0, y_0, value_0),</dt><dd><dl class="simple">
<dt>(x_1, y_1, value_1),</dt><dd><p>⋮</p>
</dd>
</dl>
<p>(x_N, y_N, value_N)]</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>2D NumPy array</em> – A height x width NumPy array of interpolated values.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.spectral_axis">
<span class="sig-name descname"><span class="pre">spectral_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#spectral_axis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.spectral_axis" title="Permalink to this definition"></a></dt>
<dd><p>Determines the spectral axis—the axis along which the light is dispersed .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>location</strong> (<em>LocationSpectrum</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>spectral_axis</strong> (<em>int</em>)</p></li>
<li><p><em>Returns 0 if the spectrum is dispersed along the x-axis; 1 if the spectrum is dispersed along the y axis.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.compute_wavelengths">
<span class="sig-name descname"><span class="pre">compute_wavelengths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#compute_wavelengths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.compute_wavelengths" title="Permalink to this definition"></a></dt>
<dd><p>Computes the central wavelength of each pixel.</p>
<p>Each pixel corresponds to a range of wavelength values, due to the spectral width of the pixel itself and
the spectral size of the dispersing object. This function computes the nominal central wavelength value of
a given pixel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> (<em>LocationSpectrum</em>) – The LocationSpectrum associated with the spectrum of interest</p></li>
<li><p><strong>bbox</strong> (<em>tuple</em>) – The bounding box of the spectrum; a tuple of (left, bottom, width, height)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><em>2D NumPy array</em> – The central wavelength of each pixel in the decontaminated spectrum.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.is_left">
<span class="sig-name descname"><span class="pre">is_left</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#is_left"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.is_left" title="Permalink to this definition"></a></dt>
<dd><p>Determines whether point2 (p2) is to the left of the line defined by p0 and p1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p0</strong> (<em>tuple</em>) – (x0, y0) coordinates of point 0.</p></li>
<li><p><strong>p1</strong> (<em>tuple</em>) – (x1, y1) coordinates of point 1.</p></li>
<li><p><strong>p2</strong> (<em>tuple</em>) – (x1, y1) coordinates of point 2.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></span></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li></li>
<li><p><strong>left</strong> (<em>float</em>) – left &gt; 0 if p2 is to the left of the line, p0 - p1.
left == 0 if the three points are co-linear
left &lt; 0 if p2 is to the right of the line, p0 - p1.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.contains" title="Permalink to this definition"></a></dt>
<dd><p>Determines whether a point is contained within a polygon.</p>
<p>Uses Dan Sunday’s optimized winding number algorithm (<a class="reference external" href="https://en.wikipedia.org/wiki/Point_in_polygon">https://en.wikipedia.org/wiki/Point_in_polygon</a>)
to test if the point, p, is located inside of the polygon defined by the vertices listed in loop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loop</strong> (<em>no.ndarray</em>) – An array of points defining the vertices of a polygon, in order [(x0, y0), (x1, y1), …]</p></li>
<li><p><strong>p</strong> (<em>tuple</em>) – The coordinates of a point (x, y)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>contains</strong> (<em>bool</em>) – True if the point, p, is within the loop (polygon); False otherwise.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_SpectraDecontamination.Utils.rasterize">
<span class="sig-name descname"><span class="pre">rasterize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">canvas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_SpectraDecontamination/Utils.html#rasterize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_SpectraDecontamination.Utils.rasterize" title="Permalink to this definition"></a></dt>
<dd><p>Creates a raster image of a polygon on a Boolean canvas.</p>
<p>Note that the center of the pixel must be contained within the polygon in order to be marked as True.
If pixels which partially overlap the polygon should be marked as True as well, then consider expanding
the polygon.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>canvas</strong> (<em>np.ndarray</em>) – A 2D boolean NumPy array which will contain the rasterized polygon.</p></li>
<li><p><strong>offset</strong> (<em>tuple:</em>) – The (x, y) offset from the lower-left corner of the canvas to the origin of the coordinate system.</p></li>
<li><p><strong>loop</strong> (<em>no.ndarray</em>) – An array of points defining the vertices of a polygon, in order [(x0, y0), (x1, y1), …]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li></li>
<li><p><strong>canvas</strong> (<em>np.ndarray</em>) – The canvas with the rasterized polygon, with True inside of the polygon; False outside.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-SIR_SpectraDecontamination">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-SIR_SpectraDecontamination" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="SIR_SpectraDecontamination" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Nathaniel R. Stickley, Ranga-Ram Chary, Andreas Faisst.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>