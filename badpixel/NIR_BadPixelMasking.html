<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NIR_BadPixelMasking package &mdash; NIR_BadPixelMasking 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=f2a433a1"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="NIR_BadPixelMasking" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> NIR_BadPixelMasking
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">NIR_BadPixelMasking</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">NIR_BadPixelMasking package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.ApplyBadPixels">NIR_BadPixelMasking.ApplyBadPixels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels"><code class="docutils literal notranslate"><span class="pre">ApplyBadPixels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.ApplyBadPixelsProgram">NIR_BadPixelMasking.ApplyBadPixelsProgram module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.ApplyBadPixelsProgram.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.ApplyBadPixelsProgram.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.CreateBadPixelsMask">NIR_BadPixelMasking.CreateBadPixelsMask module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask"><code class="docutils literal notranslate"><span class="pre">CreateBadPixelsMask</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.CreateBadPixelsMaskProg">NIR_BadPixelMasking.CreateBadPixelsMaskProg module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.CreateBadPixelsMaskProg.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.CreateBadPixelsMaskProg.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.CreateXML4Cds">NIR_BadPixelMasking.CreateXML4Cds module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.CreateXML4Cds.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.CreateXML4Cds.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.Detector">NIR_BadPixelMasking.Detector module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.Detector.Detector"><code class="docutils literal notranslate"><span class="pre">Detector</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindDeadPixels">NIR_BadPixelMasking.FindDeadPixels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels"><code class="docutils literal notranslate"><span class="pre">FindDeadPixels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nir-badpixelmasking-finddeadpixels-240724-module">NIR_BadPixelMasking.FindDeadPixels-240724 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindDeadPixelsProg">NIR_BadPixelMasking.FindDeadPixelsProg module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindDeadPixelsProg.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindDeadPixelsProg.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindHiLoBaselinePixels">NIR_BadPixelMasking.FindHiLoBaselinePixels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels"><code class="docutils literal notranslate"><span class="pre">FindHiLoBaselinePixels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindHiLoBaselinePixelsProg">NIR_BadPixelMasking.FindHiLoBaselinePixelsProg module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindHiLoBaselinePixelsProg.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindHiLoBaselinePixelsProg.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindHotPixels">NIR_BadPixelMasking.FindHotPixels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels"><code class="docutils literal notranslate"><span class="pre">FindHotPixels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindHotPixelsProg">NIR_BadPixelMasking.FindHotPixelsProg module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindHotPixelsProg.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindHotPixelsProg.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindLowQEPixels">NIR_BadPixelMasking.FindLowQEPixels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels"><code class="docutils literal notranslate"><span class="pre">FindLowQEPixels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindLowQEPixelsProg">NIR_BadPixelMasking.FindLowQEPixelsProg module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindLowQEPixelsProg.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindLowQEPixelsProg.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindSatPixels">NIR_BadPixelMasking.FindSatPixels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels"><code class="docutils literal notranslate"><span class="pre">FindSatPixels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindSatPixelsProg">NIR_BadPixelMasking.FindSatPixelsProg module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindSatPixelsProg.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindSatPixelsProg.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindSuperQEPixels">NIR_BadPixelMasking.FindSuperQEPixels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels"><code class="docutils literal notranslate"><span class="pre">FindSuperQEPixels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindSuperQEPixelsProg">NIR_BadPixelMasking.FindSuperQEPixelsProg module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindSuperQEPixelsProg.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindSuperQEPixelsProg.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindZeroQEPixels">NIR_BadPixelMasking.FindZeroQEPixels module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels"><code class="docutils literal notranslate"><span class="pre">FindZeroQEPixels</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.FindZeroQEPixelsProg">NIR_BadPixelMasking.FindZeroQEPixelsProg module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindZeroQEPixelsProg.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.FindZeroQEPixelsProg.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id1">NIR_BadPixelMasking.findHotPixels module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nir-badpixelmasking-satpixpv012-240806-module">NIR_BadPixelMasking.satPixPV012_240806 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking.utils">NIR_BadPixelMasking.utils module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.utils.load_list_from_file"><code class="docutils literal notranslate"><span class="pre">load_list_from_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.utils.make_files_hdu"><code class="docutils literal notranslate"><span class="pre">make_files_hdu()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.utils.prepend_dir"><code class="docutils literal notranslate"><span class="pre">prepend_dir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.utils.readDetectorLayout"><code class="docutils literal notranslate"><span class="pre">readDetectorLayout()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.utils.utcnow"><code class="docutils literal notranslate"><span class="pre">utcnow()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#NIR_BadPixelMasking.utils.writeXml"><code class="docutils literal notranslate"><span class="pre">writeXml()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-NIR_BadPixelMasking">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NIR_BadPixelMasking</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">NIR_BadPixelMasking</a></li>
      <li class="breadcrumb-item active">NIR_BadPixelMasking package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/NIR_BadPixelMasking.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="nir-badpixelmasking-package">
<h1>NIR_BadPixelMasking package<a class="headerlink" href="#nir-badpixelmasking-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-NIR_BadPixelMasking.ApplyBadPixels">
<span id="nir-badpixelmasking-applybadpixels-module"></span><h2>NIR_BadPixelMasking.ApplyBadPixels module<a class="headerlink" href="#module-NIR_BadPixelMasking.ApplyBadPixels" title="Link to this heading"></a></h2>
<p>&#64;file ApplyBadPixels.py
&#64;date Sep. 24, 2015
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.ApplyBadPixels.</span></span><span class="sig-name descname"><span class="pre">ApplyBadPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmlfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/ApplyBadPixels.html#ApplyBadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>&#64;class ApplyBadPixels
&#64;brief This class applies a mask of bad and unreliable pixels in the</p>
<blockquote>
<div><p>near-infrared detectors.  It applies the mask to each data frame.
This module only masks pixels that are truly dead or can not be
calibrated to any reasonable level, where reasonable is TBD by the
calibration group. This module does not mask pixels with low transmittance,
high dark current, saturated pixels, non-linear pixels or pixels that
are affected by persistence from pervious exposures.  These will be
flagged by other modules if they violet their calibration margins.
The image combination module will determine if a pixel is usable
for a given science product.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/ApplyBadPixels.html#ApplyBadPixels.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels.apply" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief Method to apply bad pixel mask to the master mask based</dt><dd><p>on calibration dat.  This method applies on 16 detectors
data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels.apply_badpixels">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">apply_badpixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imgptr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calarray</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/ApplyBadPixels.html#ApplyBadPixels.apply_badpixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels.apply_badpixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels.from2048to2040">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from2048to2040</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xpix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ypix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/ApplyBadPixels.html#ApplyBadPixels.from2048to2040"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.ApplyBadPixels.ApplyBadPixels.from2048to2040" title="Link to this definition"></a></dt>
<dd><p>Subset image from 2048x2048 to 2040x2040.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.ApplyBadPixelsProgram">
<span id="nir-badpixelmasking-applybadpixelsprogram-module"></span><h2>NIR_BadPixelMasking.ApplyBadPixelsProgram module<a class="headerlink" href="#module-NIR_BadPixelMasking.ApplyBadPixelsProgram" title="Link to this heading"></a></h2>
<p>&#64;file ApplyBadPixelsProgram.py
&#64;date Sep. 24, 2015
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.ApplyBadPixelsProgram.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.ApplyBadPixelsProgram.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/ApplyBadPixelsProgram.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.ApplyBadPixelsProgram.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>Allows to define the (command line and configuration file)
options specific to this program</p>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for ApplyBadPixelsProgram</p>
</dd>
<dt>&#64;return</dt><dd><p>An  ArgumentParser.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.ApplyBadPixelsProgram.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.ApplyBadPixelsProgram.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/ApplyBadPixelsProgram.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.ApplyBadPixelsProgram.mainMethod" title="Link to this definition"></a></dt>
<dd><dl>
<dt>&#64;brief</dt><dd><p>The “main” method.</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program.</p>
<p>Example to use this script:
./run badpixPyProgram –infile=EUC-TEST-GRED180D11-2015-07-16T054123.848Z.fits</p>
<blockquote>
<div><p>–xmlfile=xmlfile.xml –outfile=out.fits
–wordir=wordir –logdir=logdir</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.CreateBadPixelsMask">
<span id="nir-badpixelmasking-createbadpixelsmask-module"></span><h2>NIR_BadPixelMasking.CreateBadPixelsMask module<a class="headerlink" href="#module-NIR_BadPixelMasking.CreateBadPixelsMask" title="Link to this heading"></a></h2>
<p>&#64;file CreateBadPixelsMask.py
&#64;date January 18, 2018
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.CreateBadPixelsMask.</span></span><span class="sig-name descname"><span class="pre">CreateBadPixelsMask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inlistfiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>&#64;class CreateBadPixelsMask
&#64;brief This class creates the bad pixels mask.</p>
<blockquote>
<div><p>It is part of the bad pixel calibration pipeline.
…</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.appendDetTableHdu">
<span class="sig-name descname"><span class="pre">appendDetTableHdu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdul</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.appendDetTableHdu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.appendDetTableHdu" title="Link to this definition"></a></dt>
<dd><p>Append detector data as a table to the existing HDU</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hdul</strong> – HDU list to be appended</p></li>
<li><p><strong>detid</strong> – the detector ID for the extension</p></li>
<li><p><strong>x</strong> – 1D numpy array, (x,y) bad pixel index</p></li>
<li><p><strong>y</strong> – 1D numpy array, (x,y) bad pixel index</p></li>
<li><p><strong>flag</strong> – list of bad pixel value, same size as x &amp; y</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.create_badpixel_list">
<span class="sig-name descname"><span class="pre">create_badpixel_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.create_badpixel_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.create_badpixel_list" title="Link to this definition"></a></dt>
<dd><p>For SC456, GFSC’s detector data were used to create a list of bad pixels.
These detector data consist of the dis-connected pixels, zero-fluence pixels
and noisy pixels.</p>
<dl class="simple">
<dt>Returns</dt><dd><p>detlist,xlist,ylist,flaglist – columns of (detid, x, y, flag) for the bad pixels</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.create_mask_from_badpixlist">
<span class="sig-name descname"><span class="pre">create_mask_from_badpixlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">badpixellist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.create_mask_from_badpixlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.create_mask_from_badpixlist" title="Link to this definition"></a></dt>
<dd><blockquote>
<div><p>Based on a given list of bad pixels (disconnected pixels, zero fluence pixels
and noisy pixels), create a mask.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>badpixellist -- numpy</em>)</p></li>
<li><p><strong>[</strong><strong>n_badpix</strong> (<em>dimension of</em>)</p></li>
<li><p><strong>4</strong><strong>]</strong></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.create_master_mask">
<span class="sig-name descname"><span class="pre">create_master_mask</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.create_master_mask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.create_master_mask" title="Link to this definition"></a></dt>
<dd><p>Create the final master bad pixels mask.</p>
<p>Given a list of Detectors, create the FITS HDUS, add proper headers,
write out the XML and FITS products.
The master bad pixels mask is a FITS file containing 16 extensions, each
of which is a table. Inside the table, the bad pixel locations are in
image dimention 2048x2048 index.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.find_badpixels">
<span class="sig-name descname"><span class="pre">find_badpixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">badpixel_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.find_badpixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.find_badpixels" title="Link to this definition"></a></dt>
<dd><p>Find bad pixels per bad pixel type.
GFSC’s DCL formatted detector data are used. This function only works on GFSC’s data for the 3
bad pixel types: dis-connected, zero fluence (full well), high cds noise pixels.</p>
<p>As of January 2021 in SC8-cycle6, the type zero fluence/full well pixels are replaced
by the zero QE pixels.  Type T2 is not called in this function.</p>
<p>As of June 29 2021, type T1 is not called in this function since we no longer mimic the DCL
format for dead pixels mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>badpixel_type</strong> (<em>String</em>)</p></li>
<li><p><strong>type</strong> (<em>Bad pixel</em>)</p></li>
<li><p><strong>[</strong><strong>&quot;T3&quot;</strong><strong>]</strong> (<em>one of</em>)</p></li>
<li><p><strong>pixels.</strong> (<em>where T3=high CDS noise</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.from2048to2040">
<span class="sig-name descname"><span class="pre">from2048to2040</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xpix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ypix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.from2048to2040"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.from2048to2040" title="Link to this definition"></a></dt>
<dd><p>Subset image from 2048x2048 to 2040x2040.
:param detid – 1D numpy array:
:param list of detector id:
:param xpix:
:type xpix: x,y
:param ypix – 1D numpy array:
:type ypix – 1D numpy array: x,y
:param :
:type : x,y
:param flags – 1D number array:
:param flags at the bad pixels:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>detid, xpix, ypix, flags – 1D numpy array as above, but</dt><dd><p>subset only the center [4, 2043] pixels</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.getDetector">
<span class="sig-name descname"><span class="pre">getDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.getDetector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.getDetector" title="Link to this definition"></a></dt>
<dd><p>Find the Dector based on detid
:param detid - String:
:param Detector ID:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.get_bpflavorfitsfiles">
<span class="sig-name descname"><span class="pre">get_bpflavorfitsfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bpflavortype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.get_bpflavorfitsfiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.get_bpflavorfitsfiles" title="Link to this definition"></a></dt>
<dd><p>Get the list of bad pixel mask fits files  and a list of corresponding detector ids
given a bad pixel flavor type</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.get_fitsfile">
<span class="sig-name descname"><span class="pre">get_fitsfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allfitsfiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alldetectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.get_fitsfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.get_fitsfile" title="Link to this definition"></a></dt>
<dd><p>Get the FITS file name for a detid given the list of detector ids and the list
of FITS files for a particular bad pixel flavor</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.get_num_badpixels">
<span class="sig-name descname"><span class="pre">get_num_badpixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bkmask</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.get_num_badpixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.get_num_badpixels" title="Link to this definition"></a></dt>
<dd><p>Get the total number of bad pixels given a bad pixel mask.
Only the pixels in the center 2040x2040 are counted.  The 4 pixel boundary is discarded.
Parameters:
bkmask: Boolean 2D number array</p>
<blockquote>
<div><p>Bad pixel mask</p>
</div></blockquote>
<p>Returns:
num_badpixels: Integer</p>
<blockquote>
<div><p>Total number of bad pixels in the center 2040x2040</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.load_flavormask">
<span class="sig-name descname"><span class="pre">load_flavormask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">badpixel_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.load_flavormask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.load_flavormask" title="Link to this definition"></a></dt>
<dd><p>Load the flavor masks such as hot pixel, zero QE and bad baseline masks.
These masks are the outputs from FindHotPixels, FindZeroQEPixels, and
FindHiLoBaselinePixels modules.
We just need to read them in and combine them with other types of bad pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>badpixel_type</strong> – String, [“T1”,T2”,”T5”,”T6”,”T7”,”T8”,”T9”,”T10”] for [disconnected,zeroQE,hot,bad-baseline,lowQE,supeQE,saturated,flower]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.read_xmllist">
<span class="sig-name descname"><span class="pre">read_xmllist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.read_xmllist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.read_xmllist" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.setDetector">
<span class="sig-name descname"><span class="pre">setDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detobj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.setDetector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.setDetector" title="Link to this definition"></a></dt>
<dd><p>Set the Detector obj in the list self._detectors.
:param detobj:
:type detobj: Detector object
:param An object of Detector:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.set_detector_info">
<span class="sig-name descname"><span class="pre">set_detector_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">badpixel_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_badpixels_det</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_nans</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.set_detector_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.set_detector_info" title="Link to this definition"></a></dt>
<dd><p>Set a Detector’s attrubutes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>badpixel_type</strong> (<em>String</em>) – Bad pixel type, one of [“T1”, “T2”, “T3”, “T4”, “T5”, “T6”],
where T1=dis-connected, T2= zero-qe, T3=high CDS noise, T4=snowball, T5=hot, T6=bad baseline</p></li>
<li><p><strong>detobj</strong> (<a class="reference internal" href="#NIR_BadPixelMasking.Detector.Detector" title="NIR_BadPixelMasking.Detector.Detector"><em>Detector</em></a>) – Detector object</p></li>
<li><p><strong>detid</strong> (<em>Integer</em>) – Detector ID</p></li>
<li><p><strong>scaid</strong> (<em>Integer</em>) – SCA ID</p></li>
<li><p><strong>num_badpixels_det</strong> (<em>Integer</em>) – Number of bad pixels of type ‘badpixel_type’</p></li>
<li><p><strong>infiles</strong> (<em>List</em><em> of </em><em>strings</em>) – Input files that went in for bad pixel type ‘badpixel_type’</p></li>
<li><p><strong>inarr</strong> (<em>2D numpy array</em>) – Bad pixel mask for bad pixel type ‘badpixel_type’</p></li>
<li><p><strong>num_nana</strong> (<em>Integer</em>) – Number of NaNs, not counted as bad pixels</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.set_detectorslots">
<span class="sig-name descname"><span class="pre">set_detectorslots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMask.html#CreateBadPixelsMask.set_detectorslots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMask.CreateBadPixelsMask.set_detectorslots" title="Link to this definition"></a></dt>
<dd><p>Helper function either gets a list of detector slots info from MDB,
or from input dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indict</strong> (<em>Dictionary</em>)</p></li>
<li><p><strong>dictionary</strong> (<em>A</em>)</p></li>
<li><p><strong>{FPAslot</strong> (<em>SCA_ID}</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>badpixel_filelist</strong> (<em>List</em>)</p></li>
<li><p><em>A list of bad pixel masks file names</em></p></li>
<li><p><strong>detslots</strong> (<em>Dictionary</em>)</p></li>
<li><p><strong>A dictionary, {FPAslot</strong> (<em>SCA_ID} or {DET_ID : SCA_ID}</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.CreateBadPixelsMaskProg">
<span id="nir-badpixelmasking-createbadpixelsmaskprog-module"></span><h2>NIR_BadPixelMasking.CreateBadPixelsMaskProg module<a class="headerlink" href="#module-NIR_BadPixelMasking.CreateBadPixelsMaskProg" title="Link to this heading"></a></h2>
<p>&#64;file CreateBadPixelsMaskProg.py
&#64;date Jan. 18, 2018
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMaskProg.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.CreateBadPixelsMaskProg.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMaskProg.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMaskProg.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>Define the command line and configuration file options
specific to this program</p>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for CreateBadPixelsMaskProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateBadPixelsMaskProg.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.CreateBadPixelsMaskProg.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateBadPixelsMaskProg.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateBadPixelsMaskProg.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.CreateXML4Cds">
<span id="nir-badpixelmasking-createxml4cds-module"></span><h2>NIR_BadPixelMasking.CreateXML4Cds module<a class="headerlink" href="#module-NIR_BadPixelMasking.CreateXML4Cds" title="Link to this heading"></a></h2>
<p>&#64;file CreateXML4Cds.py
&#64;date Mar. 9, 2012
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateXML4Cds.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.CreateXML4Cds.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateXML4Cds.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateXML4Cds.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>Define the command line and configuration file options
specific to this program</p>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for CreateBadPixelsMaskProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.CreateXML4Cds.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.CreateXML4Cds.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/CreateXML4Cds.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.CreateXML4Cds.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.Detector">
<span id="nir-badpixelmasking-detector-module"></span><h2>NIR_BadPixelMasking.Detector module<a class="headerlink" href="#module-NIR_BadPixelMasking.Detector" title="Link to this heading"></a></h2>
<p>&#64;file Detector.py
&#64;date July 8, 2020
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.Detector.</span></span><span class="sig-name descname"><span class="pre">Detector</span></span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for one detector, storing its bad pixel information.</p>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.combineByBits">
<span class="sig-name descname"><span class="pre">combineByBits</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.combineByBits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.combineByBits" title="Link to this definition"></a></dt>
<dd><p>Combine bad pixels types/flavors.
These 8 bad pixels types are combined:
Dis-connected, zero-qe (previously full well), RTN (previously high cds noise), snowball pixels, hot,
low-qe, super-qe.
Bits assignments:
1. Dis-connected = Dead = 2
2. Zero-QE = 3
3. Bad Baseline = 4
4. Low-QE = 5
5. Super-QE = 6
6. Hot = 7
7. RTN = 8
8. Snowball = 9
9. Saturated = 10</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getBadBLArray">
<span class="sig-name descname"><span class="pre">getBadBLArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getBadBLArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getBadBLArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getDeadPixelsArray">
<span class="sig-name descname"><span class="pre">getDeadPixelsArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getDeadPixelsArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getDeadPixelsArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getDetId">
<span class="sig-name descname"><span class="pre">getDetId</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getDetId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getDetId" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getFlowerArray">
<span class="sig-name descname"><span class="pre">getFlowerArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getFlowerArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getFlowerArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getHighCDSNoiseArray">
<span class="sig-name descname"><span class="pre">getHighCDSNoiseArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getHighCDSNoiseArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getHighCDSNoiseArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getHotArray">
<span class="sig-name descname"><span class="pre">getHotArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getHotArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getHotArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsBadBLPixels">
<span class="sig-name descname"><span class="pre">getInputsBadBLPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsBadBLPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsBadBLPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsDeadPixels">
<span class="sig-name descname"><span class="pre">getInputsDeadPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsDeadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsDeadPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsFlowerPixels">
<span class="sig-name descname"><span class="pre">getInputsFlowerPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsFlowerPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsFlowerPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsHighCDSNoisePixels">
<span class="sig-name descname"><span class="pre">getInputsHighCDSNoisePixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsHighCDSNoisePixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsHighCDSNoisePixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsHotPixels">
<span class="sig-name descname"><span class="pre">getInputsHotPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsHotPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsHotPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsLowQEPixels">
<span class="sig-name descname"><span class="pre">getInputsLowQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsLowQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsLowQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsSatPixels">
<span class="sig-name descname"><span class="pre">getInputsSatPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsSatPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsSatPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsSuperQEPixels">
<span class="sig-name descname"><span class="pre">getInputsSuperQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsSuperQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsSuperQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getInputsZeroQEPixels">
<span class="sig-name descname"><span class="pre">getInputsZeroQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getInputsZeroQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getInputsZeroQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getLowQEArray">
<span class="sig-name descname"><span class="pre">getLowQEArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getLowQEArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getLowQEArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumBadBLPixels">
<span class="sig-name descname"><span class="pre">getNumBadBLPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumBadBLPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumBadBLPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumDeadPixels">
<span class="sig-name descname"><span class="pre">getNumDeadPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumDeadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumDeadPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumFlowerPixels">
<span class="sig-name descname"><span class="pre">getNumFlowerPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumFlowerPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumFlowerPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumHighCDSNoisePixels">
<span class="sig-name descname"><span class="pre">getNumHighCDSNoisePixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumHighCDSNoisePixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumHighCDSNoisePixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumHotPixels">
<span class="sig-name descname"><span class="pre">getNumHotPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumHotPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumHotPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumLowQEPixels">
<span class="sig-name descname"><span class="pre">getNumLowQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumLowQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumLowQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsBadBLPixels">
<span class="sig-name descname"><span class="pre">getNumNaNsBadBLPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsBadBLPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsBadBLPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsDeadPixels">
<span class="sig-name descname"><span class="pre">getNumNaNsDeadPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsDeadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsDeadPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsFlowerPixels">
<span class="sig-name descname"><span class="pre">getNumNaNsFlowerPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsFlowerPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsFlowerPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsHighCDSNoisePixels">
<span class="sig-name descname"><span class="pre">getNumNaNsHighCDSNoisePixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsHighCDSNoisePixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsHighCDSNoisePixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsHotPixels">
<span class="sig-name descname"><span class="pre">getNumNaNsHotPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsHotPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsHotPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsLowQEPixels">
<span class="sig-name descname"><span class="pre">getNumNaNsLowQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsLowQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsLowQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsSatPixels">
<span class="sig-name descname"><span class="pre">getNumNaNsSatPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsSatPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsSatPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsSuperQEPixels">
<span class="sig-name descname"><span class="pre">getNumNaNsSuperQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsSuperQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsSuperQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumNaNsZeroQEPixels">
<span class="sig-name descname"><span class="pre">getNumNaNsZeroQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumNaNsZeroQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumNaNsZeroQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumSatPixels">
<span class="sig-name descname"><span class="pre">getNumSatPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumSatPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumSatPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumSuperQEPixels">
<span class="sig-name descname"><span class="pre">getNumSuperQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumSuperQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumSuperQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getNumZeroQEPixels">
<span class="sig-name descname"><span class="pre">getNumZeroQEPixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getNumZeroQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getNumZeroQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getSatArray">
<span class="sig-name descname"><span class="pre">getSatArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getSatArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getSatArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getScaId">
<span class="sig-name descname"><span class="pre">getScaId</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getScaId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getScaId" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getSuperQEArray">
<span class="sig-name descname"><span class="pre">getSuperQEArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getSuperQEArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getSuperQEArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.getZeroQEArray">
<span class="sig-name descname"><span class="pre">getZeroQEArray</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.getZeroQEArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.getZeroQEArray" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.makeTableHDU1">
<span class="sig-name descname"><span class="pre">makeTableHDU1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.makeTableHDU1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.makeTableHDU1" title="Link to this definition"></a></dt>
<dd><p>Create a Table HDU for the combined mask for this detector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setBadBLArray">
<span class="sig-name descname"><span class="pre">setBadBLArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setBadBLArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setBadBLArray" title="Link to this definition"></a></dt>
<dd><p>Set the bad baseline pixels mask array.
:param inarr: Mask of bad baseline pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setDeadPixelsArray">
<span class="sig-name descname"><span class="pre">setDeadPixelsArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setDeadPixelsArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setDeadPixelsArray" title="Link to this definition"></a></dt>
<dd><p>Set the dis-connected pixels mask array.
:param inarr: Mask of dis-connected pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setDetId">
<span class="sig-name descname"><span class="pre">setDetId</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setDetId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setDetId" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detid</strong> (<em>String</em>)</p></li>
<li><p><strong>ID</strong> (<a class="reference internal" href="#NIR_BadPixelMasking.Detector.Detector" title="NIR_BadPixelMasking.Detector.Detector"><em>Detector</em></a>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setFlowerArray">
<span class="sig-name descname"><span class="pre">setFlowerArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setFlowerArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setFlowerArray" title="Link to this definition"></a></dt>
<dd><p>Set the flower pixels mask array.
:param inarr: Mask of flower pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setHighCDSNoiseArray">
<span class="sig-name descname"><span class="pre">setHighCDSNoiseArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setHighCDSNoiseArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setHighCDSNoiseArray" title="Link to this definition"></a></dt>
<dd><p>Set the high CDS noise pixels mask array.
:param inarr: Mask of high CDS noise pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setHotArray">
<span class="sig-name descname"><span class="pre">setHotArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setHotArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setHotArray" title="Link to this definition"></a></dt>
<dd><p>Set the hot pixels mask array.
:param inarr: Mask of hot pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsBadBLPixels">
<span class="sig-name descname"><span class="pre">setInputsBadBLPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsBadBLPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsBadBLPixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the bad baseline pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsDeadPixels">
<span class="sig-name descname"><span class="pre">setInputsDeadPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsDeadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsDeadPixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the dis-connectedd pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsFlowerPixels">
<span class="sig-name descname"><span class="pre">setInputsFlowerPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsFlowerPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsFlowerPixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the flower pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsHighCDSNoisePixels">
<span class="sig-name descname"><span class="pre">setInputsHighCDSNoisePixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsHighCDSNoisePixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsHighCDSNoisePixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the high CDS noise pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsHotPixels">
<span class="sig-name descname"><span class="pre">setInputsHotPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsHotPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsHotPixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the hot pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsLowQEPixels">
<span class="sig-name descname"><span class="pre">setInputsLowQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsLowQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsLowQEPixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the low QE pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsSatPixels">
<span class="sig-name descname"><span class="pre">setInputsSatPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsSatPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsSatPixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the saturated pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsSuperQEPixels">
<span class="sig-name descname"><span class="pre">setInputsSuperQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsSuperQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsSuperQEPixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the super QE pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setInputsZeroQEPixels">
<span class="sig-name descname"><span class="pre">setInputsZeroQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setInputsZeroQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setInputsZeroQEPixels" title="Link to this definition"></a></dt>
<dd><p>Set the input files list for the zero QE pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setLowQEArray">
<span class="sig-name descname"><span class="pre">setLowQEArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setLowQEArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setLowQEArray" title="Link to this definition"></a></dt>
<dd><p>Set the low QE pixels mask array.
:param inarr: Mask of low QE pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumBadBLPixels">
<span class="sig-name descname"><span class="pre">setNumBadBLPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumBadBLPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumBadBLPixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of bad baseline pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumDeadPixels">
<span class="sig-name descname"><span class="pre">setNumDeadPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumDeadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumDeadPixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of dis-connected/dead pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumFlowerPixels">
<span class="sig-name descname"><span class="pre">setNumFlowerPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumFlowerPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumFlowerPixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of flower pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumHighCDSNoisePixels">
<span class="sig-name descname"><span class="pre">setNumHighCDSNoisePixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumHighCDSNoisePixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumHighCDSNoisePixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of high CDS noise pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumHotPixels">
<span class="sig-name descname"><span class="pre">setNumHotPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumHotPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumHotPixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of hot pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumLowQEPixels">
<span class="sig-name descname"><span class="pre">setNumLowQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumLowQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumLowQEPixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of low QE pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsBadBLPixels">
<span class="sig-name descname"><span class="pre">setNumNaNsBadBLPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsBadBLPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsBadBLPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsDeadPixels">
<span class="sig-name descname"><span class="pre">setNumNaNsDeadPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsDeadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsDeadPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsFlowerPixels">
<span class="sig-name descname"><span class="pre">setNumNaNsFlowerPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsFlowerPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsFlowerPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsHighCDSNoisePixels">
<span class="sig-name descname"><span class="pre">setNumNaNsHighCDSNoisePixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsHighCDSNoisePixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsHighCDSNoisePixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsHotPixels">
<span class="sig-name descname"><span class="pre">setNumNaNsHotPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsHotPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsHotPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsLowQEPixels">
<span class="sig-name descname"><span class="pre">setNumNaNsLowQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsLowQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsLowQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsSatPixels">
<span class="sig-name descname"><span class="pre">setNumNaNsSatPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsSatPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsSatPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsSuperQEPixels">
<span class="sig-name descname"><span class="pre">setNumNaNsSuperQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsSuperQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsSuperQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumNaNsZeroQEPixels">
<span class="sig-name descname"><span class="pre">setNumNaNsZeroQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumNaNsZeroQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumNaNsZeroQEPixels" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumSatPixels">
<span class="sig-name descname"><span class="pre">setNumSatPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumSatPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumSatPixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of saturated pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumSuperQEPixels">
<span class="sig-name descname"><span class="pre">setNumSuperQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumSuperQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumSuperQEPixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of super QE pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setNumZeroQEPixels">
<span class="sig-name descname"><span class="pre">setNumZeroQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setNumZeroQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setNumZeroQEPixels" title="Link to this definition"></a></dt>
<dd><p>Set the number of zero QE pixels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setSatArray">
<span class="sig-name descname"><span class="pre">setSatArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setSatArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setSatArray" title="Link to this definition"></a></dt>
<dd><p>Set the saturated pixels mask array.
:param inarr: Mask of saturated pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setScaId">
<span class="sig-name descname"><span class="pre">setScaId</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setScaId"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setScaId" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scaid</strong> (<em>String</em>)</p></li>
<li><p><strong>ID</strong> (<em>SCA</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setSuperQEArray">
<span class="sig-name descname"><span class="pre">setSuperQEArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setSuperQEArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setSuperQEArray" title="Link to this definition"></a></dt>
<dd><p>Set the super QE pixels mask array.
:param inarr: Mask of super QE pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.Detector.Detector.setZeroQEArray">
<span class="sig-name descname"><span class="pre">setZeroQEArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inarr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/Detector.html#Detector.setZeroQEArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.Detector.Detector.setZeroQEArray" title="Link to this definition"></a></dt>
<dd><p>Set the zero QE pixels mask array.
:param inarr: Mask of zero QE pixels, value of 0 or 1.
:type inarr: 2D numpy array</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindDeadPixels">
<span id="nir-badpixelmasking-finddeadpixels-module"></span><h2>NIR_BadPixelMasking.FindDeadPixels module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindDeadPixels" title="Link to this heading"></a></h2>
<p>&#64;file FindDeadPixels.py
&#64;date March 19, 2020
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindDeadPixels.</span></span><span class="sig-name descname"><span class="pre">FindDeadPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_list_fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class FindDeadPixels
This class identifies pixels which are measured to have zero signal in a
set of Level 1 SCIENCE exposures.</p>
<p>The algorithm can process either MDB, RAW (full ramp) or SCI (fitted ramps) exposures:</p>
<ul class="simple">
<li><p>In RAW data, the first and last groups are averaged and differenced. A</p></li>
</ul>
<p>pixel is disconnected if the difference is exactly 0, and flagged dead in
the final mask if it is dead to a threshold repeatability across N input
exposures.  If N is less than the threshold, the repeatability must be 100%.</p>
<ul class="simple">
<li><p>In SCI data, a pixel is disconnected if the standard deviation of the</p></li>
</ul>
<p>estimated flux is exactly zero across all N input exposures.</p>
<ul class="simple">
<li><p>In MDB mode, the disconnected pixel maps from the MDB is used directly.</p></li>
</ul>
<p>The output for a single detector is a 2D dead pixel mask stored as FITS,
named dpix_SCAID_[timestamp].fits, including a table extension listing the
input data.  In the case of RAW input data, a FITS cube [N,2040,2040]
containing N image masks, and corresponding ascii lists of the flagged pixels
are also created.</p>
<p>The output of this class is to match what’s in the DCL data that are in the
Euclid MDB.  This is the not the final dead pixel mask.  The otuput of this
class is part of the inputs to CreateBadPixelsMask class.</p>
<p>This class works on a detector basis, since: (a) this allows each
to be monitored on their own timescales; (b) it is easier to define a smaller
homogenous set of ground or on orbit observations to be processed; (c) runs
faster with simpler I/O.</p>
<p>Bad Pixel flavors:
1 = Disconnected
2 = Zero QE (formerly Zero Full Well)
3 = High CDS noise (stand-in for RTN)
4 = Snowball
5 = Hot (formerly ‘Halo’)
6 = High Low Baseline</p>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.find_per_exposure">
<span class="sig-name descname"><span class="pre">find_per_exposure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ramps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fnum</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.find_per_exposure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.find_per_exposure" title="Link to this definition"></a></dt>
<dd><p>Find the bad pixels for each exposure file which contains n_ramps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ramps</strong> – 2D numpy array, ramp data for this exposure</p></li>
<li><p><strong>fnum</strong> – int, the fnum-th exposure in the input exposure list</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.findthem">
<span class="sig-name descname"><span class="pre">findthem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.findthem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.findthem" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.findthem_macc">
<span class="sig-name descname"><span class="pre">findthem_macc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.findthem_macc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.findthem_macc" title="Link to this definition"></a></dt>
<dd><p>Function to find dead pixels using fitted ramps (SCI mode)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, 2D numpy array, the dead pixel mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.findthem_mdb">
<span class="sig-name descname"><span class="pre">findthem_mdb</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.findthem_mdb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.findthem_mdb" title="Link to this definition"></a></dt>
<dd><p>Function to find dead pixels using the disconnected pixel map in the MDB</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, 2D numpy array, the dead pixel mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.findthem_raw">
<span class="sig-name descname"><span class="pre">findthem_raw</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.findthem_raw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.findthem_raw" title="Link to this definition"></a></dt>
<dd><p>Function to find dead pixels using full ramps (RAW mode)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.getExposureList">
<span class="sig-name descname"><span class="pre">getExposureList</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.getExposureList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.getExposureList" title="Link to this definition"></a></dt>
<dd><p>Get the list of exposure files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.get_detid">
<span class="sig-name descname"><span class="pre">get_detid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_expfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.get_detid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.get_detid" title="Link to this definition"></a></dt>
<dd><p>Get the detector id from either the input file or the detector slot table.
The DET_ID will be in the input exposure FITS header.
If the exposure is not specified or if the DET_ID is not in the input exposure data file,
retrieve the detector id from the detector slots table given the SCA_ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string, detector id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.get_scaid">
<span class="sig-name descname"><span class="pre">get_scaid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_expfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.get_scaid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.get_scaid" title="Link to this definition"></a></dt>
<dd><p>Retrieve the SCA_ID from one input exposure FITS file a_expfile
The SCA_ID should be in the input exposure FITS header!</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.get_thresh_pcnt">
<span class="sig-name descname"><span class="pre">get_thresh_pcnt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_exposures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_percent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.get_thresh_pcnt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.get_thresh_pcnt" title="Link to this definition"></a></dt>
<dd><p>Get the threshold percentage for merging the bad pixel masks from all exposures
based on number of available exposures.</p>
<dl class="simple">
<dt>The criteria is as following:</dt><dd><p>X=threshhold_percent  for N &gt;= MIN_NUM_EXPOSURES
X=100%=1.             for N &lt;  MIN_NUM_EXPOSURES
N is the number of total number of exposures</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_percent</strong> – (float) percentage of the threshold</p></li>
<li><p><strong>num_exposures</strong> – (int) number of exposures</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>float, the threshold for dead pixel</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.load_data" title="Link to this definition"></a></dt>
<dd><p>Load the data based on the data origin for SCI mode.
The data origin is one of the lab test, simulated and operation data: “TV1”, “SIM”, “OPS”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expfiles</strong> – list, the list of exposure file names</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>int, 3D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.merge_masks">
<span class="sig-name descname"><span class="pre">merge_masks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_exposures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sum_deadpix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.merge_masks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.merge_masks" title="Link to this definition"></a></dt>
<dd><p>Check for threshold and determine if the pixel is indeed dead. Make the final mask for this SCA_ID.</p>
<p>The criteria is as following:
For each pixel, if the total number of dead pixels identified from all the exposures (sum_deadpix)
is larger than threshold X, then it is a dead pixel.
Where:</p>
<blockquote>
<div><p>X=80% of N  for N &gt;= MIN_NUM_EXPOSURES
X=100% of N for N &lt;  MIN_NUM_EXPOSURES
N is the number of total number of exposures</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_exposures</strong> – (int) number of exposures used</p></li>
<li><p><strong>sum_deadpix</strong> – (2D numpy array) sum of bad pixels at each pixel</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(2D int number array) the dead pixel mask for this SCA_ID</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.setParams">
<span class="sig-name descname"><span class="pre">setParams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.setParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.setParams" title="Link to this definition"></a></dt>
<dd><p>Logic in parameter setting:
* If a config file is not given, then EXPMODE is assumed to be ‘MDB’, a SCA_ID must be spcified.
* If a config file is given, all parameters are read in from the config file except the SCA_ID</p>
<blockquote>
<div><p>if it’s specified on the command line.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.setVerbose">
<span class="sig-name descname"><span class="pre">setVerbose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.setVerbose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.setVerbose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.set_numbdpix">
<span class="sig-name descname"><span class="pre">set_numbdpix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numbdpix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.set_numbdpix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.set_numbdpix" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deadpixmask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files_hdu</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixels.html#FindDeadPixels.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixels.FindDeadPixels.write" title="Link to this definition"></a></dt>
<dd><p>Write out the final output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>deadpixmask</strong> – 2D numpy array, the dead pixel mask, according to DCL convention (1=good, 0=bad)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="nir-badpixelmasking-finddeadpixels-240724-module">
<h2>NIR_BadPixelMasking.FindDeadPixels-240724 module<a class="headerlink" href="#nir-badpixelmasking-finddeadpixels-240724-module" title="Link to this heading"></a></h2>
</section>
<section id="module-NIR_BadPixelMasking.FindDeadPixelsProg">
<span id="nir-badpixelmasking-finddeadpixelsprog-module"></span><h2>NIR_BadPixelMasking.FindDeadPixelsProg module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindDeadPixelsProg" title="Link to this heading"></a></h2>
<p>&#64;file FindDeadPixelsProg.py
&#64;date March 19, 2020
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixelsProg.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindDeadPixelsProg.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixelsProg.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixelsProg.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><dl class="simple">
<dt>Define the command line and configuration file options</dt><dd><p>specific to this program</p>
</dd>
</dl>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for FindDeadPixelsProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindDeadPixelsProg.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindDeadPixelsProg.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindDeadPixelsProg.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindDeadPixelsProg.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindHiLoBaselinePixels">
<span id="nir-badpixelmasking-findhilobaselinepixels-module"></span><h2>NIR_BadPixelMasking.FindHiLoBaselinePixels module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindHiLoBaselinePixels" title="Link to this heading"></a></h2>
<p>&#64;file FindHiLoBaselinePixels.py
&#64;date March 19, 2020
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindHiLoBaselinePixels.</span></span><span class="sig-name descname"><span class="pre">FindHiLoBaselinePixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blmapfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class FindHiLoBaselinePixels
This class identifies pixels which have first MACC group averages (the so-called baseline)
which are out of differential nonlinearity (DNL) limits at the low or high end.  Such
pixels do not have a reliable charge transfer function, as DNL expresses the usable
range in ADU of the readout integrated circuit.</p>
<p>The inputs are: (1) either a 2D image file contianing the measured baselines for each
detector on a pixel basis or a set of RAW mode (full ramp) data files from which the
baselines can be computed; and (2) a table of DNL limits on a detector basis.</p>
<p>The output is a 2D mask with pixels out of DNL limits, stored as FITS, named
hiloBaseline_SCAID_[timestamp].fits.</p>
<p>This task works on a detector basis, since: (a) this allows each
to be monitored on their own timescales; (b) it is easier to define a smaller
homogenous set of ground or on orbit observations to be processed; (c) runs
faster with simpler I/O.</p>
<p>Bad Pixel flavors:
1 = Disconnected
2 = Zero QE (formerly Zero Full Well)
3 = High CDS noise (stand-in for RTN)
4 = Snowball
5 = Hot (formerly ‘Halo’)
6 = High Low Baseline</p>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.findthem">
<span class="sig-name descname"><span class="pre">findthem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.findthem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.findthem" title="Link to this definition"></a></dt>
<dd><p>Function to find High Low baseline pixels for the SCAID</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, 2D numpy array, the high low baseline pixel mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getBaselineData">
<span class="sig-name descname"><span class="pre">getBaselineData</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.getBaselineData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getBaselineData" title="Link to this definition"></a></dt>
<dd><p>Get the data array for this SCAID from the NISP fligt baseline map</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getBaselineDataFromMDB">
<span class="sig-name descname"><span class="pre">getBaselineDataFromMDB</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.getBaselineDataFromMDB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getBaselineDataFromMDB" title="Link to this definition"></a></dt>
<dd><p>Get the data array for this SCAID from the baseline data in MDB</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getBaselinefile">
<span class="sig-name descname"><span class="pre">getBaselinefile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.getBaselinefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getBaselinefile" title="Link to this definition"></a></dt>
<dd><p>Get the corresponding baseline data file from the input XML file for the SCA_ID</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getBaselinefileFromMDB">
<span class="sig-name descname"><span class="pre">getBaselinefileFromMDB</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.getBaselinefileFromMDB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getBaselinefileFromMDB" title="Link to this definition"></a></dt>
<dd><p>Get the corresponding baseline file from the MDB XML file for the SCA_ID</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getDNLlimits">
<span class="sig-name descname"><span class="pre">getDNLlimits</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.getDNLlimits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.getDNLlimits" title="Link to this definition"></a></dt>
<dd><p>Get the detector nonlinearity (DNL) limits table from the MDB XML file for the SCA_ID</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.get_badbaselinepath">
<span class="sig-name descname"><span class="pre">get_badbaselinepath</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.get_badbaselinepath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.get_badbaselinepath" title="Link to this definition"></a></dt>
<dd><p>return bad baseline pixel mask FITS file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.get_detid">
<span class="sig-name descname"><span class="pre">get_detid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.get_detid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.get_detid" title="Link to this definition"></a></dt>
<dd><p>Get the detector id from the detector slot table.
The DET_ID will be in the input exposure FITS header.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string, detector id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.setBaselinefile">
<span class="sig-name descname"><span class="pre">setBaselinefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.setBaselinefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.setBaselinefile" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.setDNLlimits">
<span class="sig-name descname"><span class="pre">setDNLlimits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dnllow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dnlhigh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.setDNLlimits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.setDNLlimits" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.setParams">
<span class="sig-name descname"><span class="pre">setParams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.setParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.setParams" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zeroqepixmask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files_hdu</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixels.html#FindHiLoBaselinePixels.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixels.FindHiLoBaselinePixels.write" title="Link to this definition"></a></dt>
<dd><p>Write out the final output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zeroqepixmask</strong> – 2D numpy array, the dead pixel mask, 0=good, 1=bad</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindHiLoBaselinePixelsProg">
<span id="nir-badpixelmasking-findhilobaselinepixelsprog-module"></span><h2>NIR_BadPixelMasking.FindHiLoBaselinePixelsProg module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindHiLoBaselinePixelsProg" title="Link to this heading"></a></h2>
<p>&#64;file FindHiLoBaselinePixelsProg.py
&#64;date January 19, 2021
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixelsProg.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindHiLoBaselinePixelsProg.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixelsProg.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixelsProg.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><dl class="simple">
<dt>Define the command line and configuration file options</dt><dd><p>specific to this program</p>
</dd>
</dl>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for FindHiLoBaselinePixelsProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHiLoBaselinePixelsProg.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindHiLoBaselinePixelsProg.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHiLoBaselinePixelsProg.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHiLoBaselinePixelsProg.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindHotPixels">
<span id="nir-badpixelmasking-findhotpixels-module"></span><h2>NIR_BadPixelMasking.FindHotPixels module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindHotPixels" title="Link to this heading"></a></h2>
<p>&#64;file FindHotPixels.py
&#64;date August 5, 2020
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindHotPixels.</span></span><span class="sig-name descname"><span class="pre">FindHotPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_list_fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This task identifies pixels which are measured to have signal in excess of the
median +/- a threshold constant factor (bad_threshold) of the standard deviation.
The input is a set of Level 1 SCIENCE exposures, taken with the shutter closed (dark).</p>
<p>In Ver. 1.0, the algorithm can process SCI exposure (fitted ramps) and RAW mode.</p>
<p>The output for a single detector is a 2D hot pixel mask stored as FITS,
named hotpix_SCAID_[timestamp].fits, including a table extension listing the
input data.</p>
<p>This task works on a detector basis, since: (a) this allows each
to be monitored on their own timescales; (b) it is easier to define a smaller
homogenous set of ground or on orbit observations to be processed; (c) runs
faster with simpler I/O.</p>
<p>Bad Pixel flavors:
1 = Disconnected
2 = Zero QE (formerly Zero Full Well)
3 = High CDS noise (stand-in for RTN)
4 = Snowball
5 = Hot (formerly ‘Halo’)
6 = High Low Baseline</p>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.findthem">
<span class="sig-name descname"><span class="pre">findthem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.findthem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.findthem" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.findthem_macc">
<span class="sig-name descname"><span class="pre">findthem_macc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.findthem_macc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.findthem_macc" title="Link to this definition"></a></dt>
<dd><p>Function to find hot pixels usning fitted ramps (SCI mode)</p>
<blockquote>
<div><p>PM update 8/12/24:  The bad_threshold definition is being changed from a pixels
with positive signal at a sigma (stdev) from the median and then requiring 100%
repeatability in all exposures to a charge rate.  E.g., bad_threshold = 1.0
= 1.0 e-/sec, which is a more conventional definition in the literature on H2RG
performances and hot pixels.</p>
<dl class="simple">
<dt>Also, two constants are needed:</dt><dd><ul class="simple">
<li><p>Detector gain to convert ADU –&gt; e-.  It should be read from the MDB gain file.</p></li>
<li><p>Saturation limit according to findSaturatedPixels.  It is not equal to the 64511 ADU
A/D limit, but a fraction lower.  For now this will be the same as the one in
default in findSaturatedPixels.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, 2D numpy array, the hot pixel mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.getExposureList">
<span class="sig-name descname"><span class="pre">getExposureList</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.getExposureList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.getExposureList" title="Link to this definition"></a></dt>
<dd><p>Get the list of exposure files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.get_detid">
<span class="sig-name descname"><span class="pre">get_detid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a_expfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.get_detid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.get_detid" title="Link to this definition"></a></dt>
<dd><p>Get the detector id from either the input file or the detector slot table.
The DET_ID will be in the input exposure FITS header.
If the exposure is not specified or if the DET_ID is not in the input exposure data file,
retrieve the detector id from the detector slots table given the SCA_ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string, detector id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.get_header0">
<span class="sig-name descname"><span class="pre">get_header0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfile0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.get_header0"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.get_header0" title="Link to this definition"></a></dt>
<dd><p>Get some headers from the first file in the exposures list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>exfile0</strong> – string, the exposure file name in XML</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.get_telapsed">
<span class="sig-name descname"><span class="pre">get_telapsed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.get_telapsed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.get_telapsed" title="Link to this definition"></a></dt>
<dd><p>Get elapsed time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.get_thresh_pcnt">
<span class="sig-name descname"><span class="pre">get_thresh_pcnt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_exposures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_percent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.get_thresh_pcnt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.get_thresh_pcnt" title="Link to this definition"></a></dt>
<dd><p>Get the threshold percentage for merging the bad pixel masks from all exposures
based on number of available exposures.</p>
<dl class="simple">
<dt>The criteria is as following:</dt><dd><p>X=in_percent      for N &gt;= MIN_NUM_EXPOSURES
X=100%=1.         for N &lt;  MIN_NUM_EXPOSURES
N is the number of total number of exposures</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_exposures</strong> – (int) number of exposures</p></li>
<li><p><strong>in_percent</strong> – (float) percentage of the threshold</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>float, the threshold for the bad pixels</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.load_data" title="Link to this definition"></a></dt>
<dd><p>Load the data based on the data origin for SCI mode.
The data origin is one of the test, simulated and operation data: “TV1”, “SIM”, “OPS”.</p>
<p>Read a FITS file by tiles from the specified HDU.
For large FITS file and many of them, there is a need to read in
small tiles at a time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expfile</strong> – string, the exposures list file name</p></li>
<li><p><strong>tile</strong> – list, [r1,r2, c1,c2] the index range [r1:r2, c1:c2] in the image array with dimension of 2040x2040!</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>int, 2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.merge_masks">
<span class="sig-name descname"><span class="pre">merge_masks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_exposures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sum_badpix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.merge_masks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.merge_masks" title="Link to this definition"></a></dt>
<dd><p>Check for threshold and determine if the pixel is indeed bad. Make the final mask for this SCAID.</p>
<p>The criteria is as following:
For each pixel, if the total number of bad pixels identified from all the exposures (sum_badpix)
is larger than threshold X, then it is a bad pixel.
Where:</p>
<blockquote>
<div><p>X=80% of N  for N &gt;= MIN_NUM_EXPOSURES
X=100% of N for N &lt;  MIN_NUM_EXPOSURES
N is the number of total number of exposures</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_exposures</strong> – (int) number of exposures used</p></li>
<li><p><strong>sum_badpix</strong> – (2D numpy array) sum of bad pixels at each pixel</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(2D int number array) the bad pixel mask for this SCAID</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.setParams">
<span class="sig-name descname"><span class="pre">setParams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.setParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.setParams" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.sortByCreationDate">
<span class="sig-name descname"><span class="pre">sortByCreationDate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.sortByCreationDate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.sortByCreationDate" title="Link to this definition"></a></dt>
<dd><p>Sort the XML list by the creation date of the data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixels.FindHotPixels.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hotpixmask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files_hdu</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixels.html#FindHotPixels.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixels.FindHotPixels.write" title="Link to this definition"></a></dt>
<dd><p>Write out the final output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hotpixmask</strong> – 2D numpy array, the hot pixel mask.  1=bad, 0=good</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindHotPixelsProg">
<span id="nir-badpixelmasking-findhotpixelsprog-module"></span><h2>NIR_BadPixelMasking.FindHotPixelsProg module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindHotPixelsProg" title="Link to this heading"></a></h2>
<p>&#64;file FindHotPixelsProg.py
&#64;date August 5, 2020
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixelsProg.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindHotPixelsProg.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixelsProg.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixelsProg.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><dl class="simple">
<dt>Define the command line and configuration file options</dt><dd><p>specific to this program</p>
</dd>
</dl>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for FindHotPixelsProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindHotPixelsProg.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindHotPixelsProg.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindHotPixelsProg.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindHotPixelsProg.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindLowQEPixels">
<span id="nir-badpixelmasking-findlowqepixels-module"></span><h2>NIR_BadPixelMasking.FindLowQEPixels module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindLowQEPixels" title="Link to this heading"></a></h2>
<p>&#64;file FindLowQEPixels.py
&#64;date June 25, 2020
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindLowQEPixels.</span></span><span class="sig-name descname"><span class="pre">FindLowQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixels.html#FindLowQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class FindLowQEPixels
This task identifies pixels which have low Quantum Efficiencies (QE)
in the median over the nominally responsive range of 1.0 - 2.05 microns.  Pixels
are flagged bad where  6% &lt; median(QE) &lt; 73%, or NaN.</p>
<p>The input is the QE map produced at the Goddard DCL in 2016 for the selecteed detector.</p>
<p>The output is a 2D low QE mask stored as FITS, named lowQE_SCAID_[timestamp].fits.</p>
<p>This class works on a detector basis, since: (a) this allows each
to be monitored on their own timescales; (b) it is easier to define a smaller
homogenous set of ground or on orbit observations to be processed; (c) runs
faster with simpler I/O.</p>
<p>Bad Pixel flavors:
1 = Disconnected
2 = Zero QE (formerly Zero Full Well)
3 = High CDS noise (stand-in for RTN)
4 = Snowball
5 = Hot (formerly ‘Halo’)
6 = High Low Baseline
7 = Low QE within (6% - 73%)
8 = Super QE</p>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.findthem">
<span class="sig-name descname"><span class="pre">findthem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixels.html#FindLowQEPixels.findthem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.findthem" title="Link to this definition"></a></dt>
<dd><p>Function to find low QE pixels using the DCL QE data</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, 2D numpy array, the low QE pixel mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.getQEfile">
<span class="sig-name descname"><span class="pre">getQEfile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixels.html#FindLowQEPixels.getQEfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.getQEfile" title="Link to this definition"></a></dt>
<dd><p>Get the corresponding QE file from the MDB XML file for the SCA_ID</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.get_detid">
<span class="sig-name descname"><span class="pre">get_detid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixels.html#FindLowQEPixels.get_detid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.get_detid" title="Link to this definition"></a></dt>
<dd><p>Get the detector id from the detector slot table.
The DET_ID will be in the input exposure FITS header.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string, detector id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.setParams">
<span class="sig-name descname"><span class="pre">setParams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixels.html#FindLowQEPixels.setParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.setParams" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.setQEfile">
<span class="sig-name descname"><span class="pre">setQEfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inqefiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixels.html#FindLowQEPixels.setQEfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.setQEfile" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lowqepixmask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files_hdu</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixels.html#FindLowQEPixels.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixels.FindLowQEPixels.write" title="Link to this definition"></a></dt>
<dd><p>Write out the final output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>lowqepixmask</strong> – 2D numpy array, the low QE pixel mask, 0=good, 1=bad</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindLowQEPixelsProg">
<span id="nir-badpixelmasking-findlowqepixelsprog-module"></span><h2>NIR_BadPixelMasking.FindLowQEPixelsProg module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindLowQEPixelsProg" title="Link to this heading"></a></h2>
<p>&#64;file FindLowQEPixelsProg.py
&#64;date January 19, 2021
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixelsProg.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindLowQEPixelsProg.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixelsProg.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixelsProg.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><dl class="simple">
<dt>Define the command line and configuration file options</dt><dd><p>specific to this program</p>
</dd>
</dl>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for FindLowQEPixelsProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindLowQEPixelsProg.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindLowQEPixelsProg.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindLowQEPixelsProg.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindLowQEPixelsProg.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindSatPixels">
<span id="nir-badpixelmasking-findsatpixels-module"></span><h2>NIR_BadPixelMasking.FindSatPixels module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindSatPixels" title="Link to this heading"></a></h2>
<p>&#64;file FindSatPixels.py
&#64;date August 9, 2024
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindSatPixels.</span></span><span class="sig-name descname"><span class="pre">FindSatPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">explistfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class FindSatPixels
Consistently saturated pixels are identified across a set of dark current frames.
The method involves a running pair-wise comparision of frames and extracting the
minimum population that always appear at the saturation limit, which is defined
as a threshold close to the A/D limit.  The threshold takes readout and numerical
noise into account. Each pair-wise comparison is basically the 2D intersection of
signal at the limit in pixel coordinates.  In any frame there may be cosmic ray
related saturated pixel transients; these are not counted.</p>
<p>This class works on a detector basis, since: (a) this allows each
to be monitored on their own timescales; (b) it is easier to define a smaller
homogenous set of ground or on orbit observations to be processed; (c) runs
faster with simpler I/O.</p>
<p>Bad Pixel flavors:
1 = Disconnected
2 = Zero QE (formerly Zero Full Well)
3 = High CDS noise (stand-in for RTN)
4 = Snowball
5 = Hot (formerly ‘Halo’)
6 = High Low Baseline
7 = Low QE
8 = Super QE
9 = Saturated</p>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels.findthem">
<span class="sig-name descname"><span class="pre">findthem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels.findthem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels.findthem" title="Link to this definition"></a></dt>
<dd><p>Function to find saturated pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, 2D numpy array, the saturated pixel mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels.getExposureList">
<span class="sig-name descname"><span class="pre">getExposureList</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels.getExposureList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels.getExposureList" title="Link to this definition"></a></dt>
<dd><p>Get the list of exposure files</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels.get_detid">
<span class="sig-name descname"><span class="pre">get_detid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels.get_detid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels.get_detid" title="Link to this definition"></a></dt>
<dd><p>Get the detector id from the detector slot table.
The DET_ID will be in the input exposure FITS header.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string, detector id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels.get_telapsed">
<span class="sig-name descname"><span class="pre">get_telapsed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels.get_telapsed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels.get_telapsed" title="Link to this definition"></a></dt>
<dd><p>Get elapsed time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels.load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels.load_data" title="Link to this definition"></a></dt>
<dd><p>Read in the data from a XML file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expfiles</strong> – string, the XML file of the exposure</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>int, 2D numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels.setParams">
<span class="sig-name descname"><span class="pre">setParams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels.setParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels.setParams" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels.sortByCreationDate">
<span class="sig-name descname"><span class="pre">sortByCreationDate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels.sortByCreationDate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels.sortByCreationDate" title="Link to this definition"></a></dt>
<dd><p>Sort the XML list by the creation date of the data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixels.FindSatPixels.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">satpixmask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files_hdu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_hdu</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixels.html#FindSatPixels.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixels.FindSatPixels.write" title="Link to this definition"></a></dt>
<dd><p>Write out the final output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>satpixmask</strong> – 2D numpy array, the saturated pixel mask, 0=good, 1=bad</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindSatPixelsProg">
<span id="nir-badpixelmasking-findsatpixelsprog-module"></span><h2>NIR_BadPixelMasking.FindSatPixelsProg module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindSatPixelsProg" title="Link to this heading"></a></h2>
<p>&#64;file FindSatPixelsProg.py
&#64;date March 19, 2020
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixelsProg.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindSatPixelsProg.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixelsProg.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixelsProg.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><dl class="simple">
<dt>Define the command line and configuration file options</dt><dd><p>specific to this program</p>
</dd>
</dl>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for FindSatPixelsProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSatPixelsProg.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindSatPixelsProg.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSatPixelsProg.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSatPixelsProg.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindSuperQEPixels">
<span id="nir-badpixelmasking-findsuperqepixels-module"></span><h2>NIR_BadPixelMasking.FindSuperQEPixels module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindSuperQEPixels" title="Link to this heading"></a></h2>
<p>&#64;file FindSuperQEPixels.py
&#64;date March 19, 2020
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindSuperQEPixels.</span></span><span class="sig-name descname"><span class="pre">FindSuperQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class FindSuperQEPixels
This task identifies pixels which have super Quantum Efficiencies (QE).
Super QE pixels are those bordering the disconnected pixels and its mean QE &gt; 105%.</p>
<p>The input is the QE map produced at the Goddard DCL in 2016 for the selecteed detector.</p>
<p>The output is a 2D super QE mask stored as FITS, named superQE_SCAID_[timestamp].fits.</p>
<p>This class works on a detector basis, since: (a) this allows each
to be monitored on their own timescales; (b) it is easier to define a smaller
homogenous set of ground or on orbit observations to be processed; (c) runs
faster with simpler I/O.</p>
<p>Bad Pixel flavors:
1 = Disconnected
2 = Zero QE (formerly Zero Full Well)
3 = High CDS noise (stand-in for RTN)
4 = Snowball
5 = Hot (formerly ‘Halo’)
6 = High Low Baseline
7 = Low QE within (6% - 73%)
8 = Super QE (&gt; 105% and bordering discconected pixels)</p>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.find_nns">
<span class="sig-name descname"><span class="pre">find_nns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bpdat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.find_nns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.find_nns" title="Link to this definition"></a></dt>
<dd><p>Given a disconnected pixel mask for the current SCA_ID, find
the pixels that border the disconnected pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bpdat</strong> – 2D numpy array, disconnected pixel mask, 0=good, 1=bad</p>
</dd>
<dt class="field-even">Retrun<span class="colon">:</span></dt>
<dd class="field-even"><p>2D numpy array in dimension of [num_nns, 2], (i,j) index of the found bordering pixels</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.findthem">
<span class="sig-name descname"><span class="pre">findthem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.findthem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.findthem" title="Link to this definition"></a></dt>
<dd><p>Function to find super QE pixels using the DCL QE data</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, 2D numpy array, the super QE pixel mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.getDisconnectedfile">
<span class="sig-name descname"><span class="pre">getDisconnectedfile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.getDisconnectedfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.getDisconnectedfile" title="Link to this definition"></a></dt>
<dd><p>Get the DISCONNECTED pixel map file from MDB  (16 extensions, dead pixel=1).
Extract data from the HDU for the current SCA_ID.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.getQEfile">
<span class="sig-name descname"><span class="pre">getQEfile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.getQEfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.getQEfile" title="Link to this definition"></a></dt>
<dd><p>Get the corresponding QE file from the MDB XML file for the SCA_ID</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.get_detid">
<span class="sig-name descname"><span class="pre">get_detid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.get_detid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.get_detid" title="Link to this definition"></a></dt>
<dd><p>Get the detector id from the detector slot table.
The DET_ID will be in the input exposure FITS header.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string, detector id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.setDisconnectedfile">
<span class="sig-name descname"><span class="pre">setDisconnectedfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.setDisconnectedfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.setDisconnectedfile" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.setParams">
<span class="sig-name descname"><span class="pre">setParams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.setParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.setParams" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.setQEfile">
<span class="sig-name descname"><span class="pre">setQEfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inqefiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.setQEfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.setQEfile" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">superqepixmask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files_hdu</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixels.html#FindSuperQEPixels.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixels.FindSuperQEPixels.write" title="Link to this definition"></a></dt>
<dd><p>Write out the final output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>superqepixmask</strong> – 2D numpy array, the super QE pixel mask, 0=good, 1=bad</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindSuperQEPixelsProg">
<span id="nir-badpixelmasking-findsuperqepixelsprog-module"></span><h2>NIR_BadPixelMasking.FindSuperQEPixelsProg module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindSuperQEPixelsProg" title="Link to this heading"></a></h2>
<p>&#64;file FindSuperQEPixelsProg.py
&#64;date July 22, 2021
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixelsProg.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindSuperQEPixelsProg.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixelsProg.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixelsProg.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><dl class="simple">
<dt>Define the command line and configuration file options</dt><dd><p>specific to this program</p>
</dd>
</dl>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for FindSuperQEPixelsProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindSuperQEPixelsProg.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindSuperQEPixelsProg.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindSuperQEPixelsProg.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindSuperQEPixelsProg.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindZeroQEPixels">
<span id="nir-badpixelmasking-findzeroqepixels-module"></span><h2>NIR_BadPixelMasking.FindZeroQEPixels module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindZeroQEPixels" title="Link to this heading"></a></h2>
<p>&#64;file FindZeroQEPixels.py
&#64;date March 19, 2020
&#64;author Cate Liu &lt;<a class="reference external" href="mailto:xliu&#37;&#52;&#48;ipac&#46;caltech&#46;edu">xliu<span>&#64;</span>ipac<span>&#46;</span>caltech<span>&#46;</span>edu</a>&gt;</p>
<dl class="py class">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindZeroQEPixels.</span></span><span class="sig-name descname"><span class="pre">FindZeroQEPixels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">workdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configfn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixels.html#FindZeroQEPixels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class FindZeroQEPixels
This task identifies pixels which have zero or negative Quantum Efficiencies (QE)
in the median over the nominally responsive range of 1.0 - 2.05 microns.  Pixels
are flagged bad where median(QE) &lt;= 0 or NaN.</p>
<p>The input is the QE map produced at the Goddard DCL in 2016 for the selecteed detector.</p>
<p>The output is a 2D Zero QE  mask stored as FITS, named zeroQE_SCAID_[timestamp].fits.</p>
<p>This class works on a detector basis, since: (a) this allows each
to be monitored on their own timescales; (b) it is easier to define a smaller
homogenous set of ground or on orbit observations to be processed; (c) runs
faster with simpler I/O.</p>
<p>Bad Pixel flavors:
1 = Disconnected
2 = Zero QE (formerly Zero Full Well)
3 = High CDS noise (stand-in for RTN)
4 = Snowball
5 = Hot (formerly ‘Halo’)
6 = High Low Baseline</p>
<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.findthem">
<span class="sig-name descname"><span class="pre">findthem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixels.html#FindZeroQEPixels.findthem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.findthem" title="Link to this definition"></a></dt>
<dd><p>Function to find zero QE pixels using the DCL QE data</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, 2D numpy array, the zero QE pixel mask</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.getQEfile">
<span class="sig-name descname"><span class="pre">getQEfile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixels.html#FindZeroQEPixels.getQEfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.getQEfile" title="Link to this definition"></a></dt>
<dd><p>Get the corresponding QE file from the MDB XML file for the SCA_ID</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.get_detid">
<span class="sig-name descname"><span class="pre">get_detid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixels.html#FindZeroQEPixels.get_detid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.get_detid" title="Link to this definition"></a></dt>
<dd><p>Get the detector id from the detector slot table.
The DET_ID will be in the input exposure FITS header.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string, detector id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.setParams">
<span class="sig-name descname"><span class="pre">setParams</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixels.html#FindZeroQEPixels.setParams"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.setParams" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.setQEfile">
<span class="sig-name descname"><span class="pre">setQEfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inqefiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixels.html#FindZeroQEPixels.setQEfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.setQEfile" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zeroqepixmask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files_hdu</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixels.html#FindZeroQEPixels.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixels.FindZeroQEPixels.write" title="Link to this definition"></a></dt>
<dd><p>Write out the final output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>zeroqepixmask</strong> – 2D numpy array, the zero QE pixel mask, 0=good, 1=bad</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking.FindZeroQEPixelsProg">
<span id="nir-badpixelmasking-findzeroqepixelsprog-module"></span><h2>NIR_BadPixelMasking.FindZeroQEPixelsProg module<a class="headerlink" href="#module-NIR_BadPixelMasking.FindZeroQEPixelsProg" title="Link to this heading"></a></h2>
<p>&#64;file FindZeroQEPixelsProg.py
&#64;date January 19, 2021
&#64;author Cate Liu &lt;xliu&#64;&#64;ipac.caltech.edu&gt;</p>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixelsProg.defineSpecificProgramOptions">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindZeroQEPixelsProg.</span></span><span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixelsProg.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixelsProg.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><dl class="simple">
<dt>Define the command line and configuration file options</dt><dd><p>specific to this program</p>
</dd>
</dl>
</dd>
<dt>&#64;details</dt><dd><p>Input options definition for FindZeroQEPixelsProg</p>
</dd>
<dt>&#64;return</dt><dd><p>An ArgumentParser</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.FindZeroQEPixelsProg.mainMethod">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.FindZeroQEPixelsProg.</span></span><span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/FindZeroQEPixelsProg.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.FindZeroQEPixelsProg.mainMethod" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>&#64;brief</dt><dd><p>The “main” method</p>
</dd>
<dt>&#64;details</dt><dd><p>This method is the entry point to the program</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id1">
<h2>NIR_BadPixelMasking.findHotPixels module<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
</section>
<section id="nir-badpixelmasking-satpixpv012-240806-module">
<h2>NIR_BadPixelMasking.satPixPV012_240806 module<a class="headerlink" href="#nir-badpixelmasking-satpixpv012-240806-module" title="Link to this heading"></a></h2>
</section>
<section id="module-NIR_BadPixelMasking.utils">
<span id="nir-badpixelmasking-utils-module"></span><h2>NIR_BadPixelMasking.utils module<a class="headerlink" href="#module-NIR_BadPixelMasking.utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.utils.load_list_from_file">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.utils.</span></span><span class="sig-name descname"><span class="pre">load_list_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/utils.html#load_list_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.utils.load_list_from_file" title="Link to this definition"></a></dt>
<dd><p>Read in the list file which is either a list or in JSON format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>fname - file name for the list</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>listobject – list of data files</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.utils.make_files_hdu">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.utils.</span></span><span class="sig-name descname"><span class="pre">make_files_hdu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expfiles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/utils.html#make_files_hdu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.utils.make_files_hdu" title="Link to this definition"></a></dt>
<dd><p>Make a table FITS HDU containing the list of input exposure file names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expfiles</strong> – list, the list of exposure file names</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.utils.prepend_dir">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.utils.</span></span><span class="sig-name descname"><span class="pre">prepend_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/utils.html#prepend_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.utils.prepend_dir" title="Link to this definition"></a></dt>
<dd><p>Prepend ddir to a list of files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> (<em>alist -- Python</em>)</p></li>
<li><p><strong>names</strong> (<em>a list</em><em> of </em><em>file</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>olist – Python list, a list of file names prepended with data_dir</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.utils.readDetectorLayout">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.utils.</span></span><span class="sig-name descname"><span class="pre">readDetectorLayout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdbfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/utils.html#readDetectorLayout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.utils.readDetectorLayout" title="Link to this definition"></a></dt>
<dd><p>Helper function to get a list of detector slots from the MDB.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a dictionary with FPAslot and SCA</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.utils.utcnow">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.utils.</span></span><span class="sig-name descname"><span class="pre">utcnow</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/utils.html#utcnow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.utils.utcnow" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="NIR_BadPixelMasking.utils.writeXml">
<span class="sig-prename descclassname"><span class="pre">NIR_BadPixelMasking.utils.</span></span><span class="sig-name descname"><span class="pre">writeXml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">badpixpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfilepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NIR_BadPixelMasking/utils.html#writeXml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#NIR_BadPixelMasking.utils.writeXml" title="Link to this definition"></a></dt>
<dd><p>Write the XML file for the bad pixel FITS file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>badpixpath</strong> – the bad pixel FITS file path</p></li>
<li><p><strong>outfilepath</strong> – the output XML file path</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-NIR_BadPixelMasking">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-NIR_BadPixelMasking" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="NIR_BadPixelMasking" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Cate Liu.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>