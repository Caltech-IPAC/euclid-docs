<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIR_DetectorScaling package &mdash; SIR_DetectorScaling August-2025 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=c780cd6e"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="SIR_DetectorScaling" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SIR_DetectorScaling
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Code Documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">SIR_DetectorScaling</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">SIR_DetectorScaling package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_DetectorScaling.SIR_ApplyDetectorScaling">SIR_DetectorScaling.SIR_ApplyDetectorScaling module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_DetectorScaling.SIR_ApplyDetectorScaling.defineSpecificProgramOptions"><code class="docutils literal notranslate"><span class="pre">defineSpecificProgramOptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#SIR_DetectorScaling.SIR_ApplyDetectorScaling.mainMethod"><code class="docutils literal notranslate"><span class="pre">mainMethod()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_DetectorScaling.SmallScaleFlatCreator">SIR_DetectorScaling.SmallScaleFlatCreator module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator"><code class="docutils literal notranslate"><span class="pre">SmallScaleFlatCreator</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-SIR_DetectorScaling">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SIR_DetectorScaling</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">SIR_DetectorScaling</a></li>
      <li class="breadcrumb-item active">SIR_DetectorScaling package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/SIR_DetectorScaling.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sir-detectorscaling-package">
<h1>SIR_DetectorScaling package<a class="headerlink" href="#sir-detectorscaling-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-SIR_DetectorScaling.SIR_ApplyDetectorScaling">
<span id="sir-detectorscaling-sir-applydetectorscaling-module"></span><h2>SIR_DetectorScaling.SIR_ApplyDetectorScaling module<a class="headerlink" href="#module-SIR_DetectorScaling.SIR_ApplyDetectorScaling" title="Link to this heading"></a></h2>
<p>This module applies the small-scale flat for NISP-P spectral images.
It provides a command-line interface for the SmallScaleFlatCreator class.</p>
<dl class="py function">
<dt class="sig sig-object py" id="SIR_DetectorScaling.SIR_ApplyDetectorScaling.defineSpecificProgramOptions">
<span class="sig-name descname"><span class="pre">defineSpecificProgramOptions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_DetectorScaling/SIR_ApplyDetectorScaling.html#defineSpecificProgramOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_DetectorScaling.SIR_ApplyDetectorScaling.defineSpecificProgramOptions" title="Link to this definition"></a></dt>
<dd><p>Define the (command line and configuration file) options
specific to this program</p>
<dl class="simple">
<dt>Returns</dt><dd><p>An  ArgumentParser.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="SIR_DetectorScaling.SIR_ApplyDetectorScaling.mainMethod">
<span class="sig-name descname"><span class="pre">mainMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_DetectorScaling/SIR_ApplyDetectorScaling.html#mainMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_DetectorScaling.SIR_ApplyDetectorScaling.mainMethod" title="Link to this definition"></a></dt>
<dd><p>The main method.</p>
<p>Details:
This method is the entry point to the program. In this sense, it is
similar to a main and hence called mainMethod().</p>
<p>Some of its major functionalities are,</p>
<p>From the ArgumentParser,
a) Define input NISP exposure image FITS file path.
b) Define zodiacal light FITS file path, using DpdSirDetectorScaling() class.
This file provides the weighted 2D QE maps for pixels for 16 detectors.
c) Define output NISP exposure image file path.</p>
<p>Create a SmallScaleFlatCreator() object with (a) &amp; (b) above.</p>
<p>Apply the apply_correction() method on the input image (a).</p>
<p>Save the output FITS file (c).</p>
</dd></dl>

</section>
<section id="module-SIR_DetectorScaling.SmallScaleFlatCreator">
<span id="sir-detectorscaling-smallscaleflatcreator-module"></span><h2>SIR_DetectorScaling.SmallScaleFlatCreator module<a class="headerlink" href="#module-SIR_DetectorScaling.SmallScaleFlatCreator" title="Link to this heading"></a></h2>
<p>File: python/SIR_DetectorScaling/SmallScaleFlatCreator.py</p>
<p>Created on: 09/17/20
Author: nrstickley</p>
<dl class="py class">
<dt class="sig sig-object py" id="SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SmallScaleFlatCreator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_exposure_fits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zodi_model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_DetectorScaling/SmallScaleFlatCreator.html#SmallScaleFlatCreator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to handle application of small scale flat</p>
<p>Details:</p>
<p>Corrects the input spectroscopic image, for each detector,
by dividing it with the corresponding 2D calibration map.</p>
<p>Sets all the pixels, with numpy inf values, with NaNs, flags them
as INVALID and updates the mask layer accordingly.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator.sir_invalid_bitmask">
<span class="sig-name descname"><span class="pre">sir_invalid_bitmask</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator.sir_invalid_bitmask" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator.apply_correction">
<span class="sig-name descname"><span class="pre">apply_correction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_DetectorScaling/SmallScaleFlatCreator.html#SmallScaleFlatCreator.apply_correction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator.apply_correction" title="Link to this definition"></a></dt>
<dd><p>Applies the flat field correction</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator.save_flatfielded_fits">
<span class="sig-name descname"><span class="pre">save_flatfielded_fits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_fits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/SIR_DetectorScaling/SmallScaleFlatCreator.html#SmallScaleFlatCreator.save_flatfielded_fits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#SIR_DetectorScaling.SmallScaleFlatCreator.SmallScaleFlatCreator.save_flatfielded_fits" title="Link to this definition"></a></dt>
<dd><p>Saves the flat-fielded FITS file</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<section id="parameter">
<h3>Parameter<a class="headerlink" href="#parameter" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>output_fits: str</dt><dd><p>The flat-fielded output FITS filename, w.r.t workdir. User may
choose to append a directory in front of the FITS filename…</p>
</dd>
</dl>
</section>
</dd></dl>

</dd></dl>

</section>
<section id="module-SIR_DetectorScaling">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-SIR_DetectorScaling" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="SIR_DetectorScaling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Indrajit Das, Phil Appleton, Nathaniel R. Stickley, Ranga-Ram Chary.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>